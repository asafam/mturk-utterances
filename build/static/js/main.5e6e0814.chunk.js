(this.webpackJsonpmturk=this.webpackJsonpmturk||[]).push([[0],{26:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(13),i=n.n(c),l=(n(25),n(26),n(7)),r=n(8),o=n(4),d=n(10),h=n(9),u=n(0),b=function(e){var t=e.onClickExample,n=e.onClickSkip;return Object(u.jsx)("div",{className:"instructions",children:Object(u.jsxs)("div",{className:"card px-4 py-5 my-5 text-center",children:[Object(u.jsx)("h1",{className:"display-5 fw-bold",children:"Instructions"}),Object(u.jsxs)("div",{className:"col-lg-6 mx-auto",children:[Object(u.jsx)("p",{className:"lead mb-2",children:" Yoar goal is to write an utterance to your smart virtual assistance. "}),Object(u.jsx)("p",{className:"lead mb-2",children:"It should be written in plain English. Try to be as specific as possible, original, and creative. Provide your virtual assistance with just enough information to understand and execute your request. "}),Object(u.jsx)("p",{className:"lead mb-2",children:"Think about real-life scenarios where you could use this virtual assistance in your favor. "}),Object(u.jsx)("p",{className:"lead mb-4",children:"Please avoid greetings, politeness, chat openers, or any irrelevant information - you're instructing a virtual assistance so just get straight to the point."}),Object(u.jsxs)("div",{className:"d-grid gap-2 d-sm-flex justify-content-sm-center",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4 gap-3",onClick:t,children:"See example"}),Object(u.jsx)("button",{type:"button",className:"btn btn-outline-secondary px-4",onClick:n,children:"Skip"})]})]})]})})},j=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;Object(l.a)(this,n),s=t.call(this,e);var a=e.utterance,c=e.context,i=e.contexts;return s.state={utterance:a,context:c||s.getRandomContext(i)},s.handleClickNext=s.handleClickNext.bind(Object(o.a)(s)),s.handleTextAreaChange=s.handleTextAreaChange.bind(Object(o.a)(s)),s.handleSwitchContextClick=s.handleSwitchContextClick.bind(Object(o.a)(s)),s}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(e,t){if(e.utterance!==this.props.utterance){var n=this.props.utterance;this.setState({utterance:n})}}},{key:"handleTextAreaChange",value:function(e){var t=this.props,n=t.utteranceLimit,s=t.disableTextOverflow,a=t.onUtteranceChange,c=this.state.context,i=e.target.value,l=!s||i.length<=n?i:this.state.utterance||"";this.setState({utterance:l}),a&&a(i,c)}},{key:"handleSwitchContextClick",value:function(){var e=this.props.contexts,t=this.getRandomContext(e);this.setState({context:t})}},{key:"getRandomContext",value:function(e){var t=e[Math.floor(Math.random()*e.length)],n=this.props.onContextChange;return n&&n(t),t}},{key:"isUtteranceValid",value:function(){var e=this.props,t=e.intents,n=e.words,s=this.state.utterance,a=s&&n&&n.length>0&&n.filter((function(e){return-1!==s.toLowerCase().indexOf(e.split("(")[0].trim().toLowerCase())}))||[];return!s||s.split(" ").length<=2?(this.setState({valid:!1,errorMessage:Object(u.jsx)("span",{children:"Please be more creative."})}),!1):t.some((function(e){return s.toLowerCase().indexOf(e.toLowerCase())>=0}))?(this.setState({valid:!1,errorMessage:Object(u.jsx)("span",{children:"Please write a valid request in plain English."})}),!1):0===a.length?(this.setState({valid:!1,errorMessage:Object(u.jsxs)("span",{children:["Please use at least 1 of the following word: ",Object(u.jsx)("strong",{children:n.join(", ")}),"."]})}),!1):s.indexOf("?")>=0&&s.indexOf("?")<.5*s.length||s.trim().split("?").filter((function(e){return e.length>0})).length>1?(this.setState({valid:!1,errorMessage:Object(u.jsxs)("span",{children:["Please try to phrase the utterance as a ",Object(u.jsx)("strong",{children:"single"})," request (and not in multiple phrases)."]})}),!1):(this.setState({valid:!0}),!0)}},{key:"handleClickNext",value:function(e){e.preventDefault(),this.isUtteranceValid()&&this.props.onClickNext()}},{key:"render",value:function(){var e=this.props,t=e.utteranceLimit,n=e.minIntents,s=e.minConstraints,a=e.intents,c=e.constraintIntents,i=e.icons,l=e.constraintIcons,r=e.words,o=e.onClickBack,d=e.onClickHelp,h=this.state,b=h.utterance,j=h.valid,m=h.errorMessage,x=h.context;return Object(u.jsxs)("div",{className:"utterance px-4 py-5 my-5",children:[Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"row mb-3",children:Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("h5",{className:"text-center",children:"Requirements"})})}),Object(u.jsx)("div",{className:"row mb-3",children:Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"bd-callout",children:[Object(u.jsxs)("p",{children:[Object(u.jsxs)("span",{className:"",children:["Write an utterance that uses ",n," or more of the following tasks your virtual assitance can do for you"]}),Object(u.jsx)("span",{className:"text-muted",children:" (use as many as possible)"}),Object(u.jsx)("span",{className:"",children:":"})]}),a.map((function(e,t){return Object(u.jsxs)("h5",{className:"intent","data-idx":t,children:[Object(u.jsx)("span",{className:"intent-icon bi bi-".concat(i[t])}),Object(u.jsx)("span",{children:e})]},t)}))]})})}),Object(u.jsx)("div",{className:"row mb-3",children:Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"bd-callout",children:[Object(u.jsxs)("p",{children:[Object(u.jsxs)("span",{className:"",children:["In your utterance, constrain the tasks you previously choosed (any or all) with ",s," or more queries your virtual assitance can do for you"]}),Object(u.jsx)("span",{className:"text-muted",children:" (use as many as possible)"}),Object(u.jsx)("span",{className:"",children:":"})]}),c.map((function(e,t){return Object(u.jsxs)("h5",{className:"intent","data-idx":t,children:[Object(u.jsx)("span",{className:"intent-icon bi bi-".concat(l[t])}),Object(u.jsx)("span",{children:e})]},t)}))]})})}),r&&r.length>0&&Object(u.jsx)("div",{className:"row mb-3",children:Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"bd-callout bd-callout-yellow2",children:[Object(u.jsx)("p",{children:Object(u.jsxs)("span",{className:"text-muted",children:["Please use at least 1 of the following word",r.length>1?"s":""," in your utterance:"]})}),Object(u.jsx)("div",{className:"pl-1 pr-1",children:r&&r.map((function(e,t){return Object(u.jsx)("span",{className:"word",children:e},t)}))})]})})}),Object(u.jsx)("div",{className:"row mb-3",children:Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"bd-callout context",children:[Object(u.jsx)("p",{className:"text-muted",children:"To help your creativity, we suggest a context for your utterance (optional):"}),Object(u.jsx)("button",{className:"btn btn-outline-default",onClick:this.handleSwitchContextClick,children:"Switch context"}),Object(u.jsx)("h5",{children:x})]})})})]}),Object(u.jsxs)("div",{className:"card mt-4",children:[Object(u.jsx)("div",{className:"card-header text-center",children:"Write an utterance"}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)("div",{className:"row mb-3",children:Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("form",{className:"g-3 needs-validation pt-4",onSubmit:this.handleSubmit,noValidate:!0,children:Object(u.jsxs)("div",{className:"has-validation mb-3",children:[Object(u.jsx)("label",{className:"form-label",style:{display:"none"},children:"Write an utterance"}),Object(u.jsx)("textarea",{className:"form-control ".concat(!0===j?"is-valid":!1===j&&"is-invalid"),rows:"5",value:b,type:"text",id:"utterance","aria-describedby":"help",onChange:this.handleTextAreaChange,placeholder:"Type your utterance here...",required:!0}),Object(u.jsxs)("div",{className:"p-1 m-1",children:[Object(u.jsx)("span",{className:(b||"").length>=t?"text-danger":"",children:(b||"").length})," / ",t]}),Object(u.jsx)("div",{className:"invalid-feedback",children:m}),Object(u.jsxs)("div",{id:"help",className:"form-text text-muted",children:["Don't forget to use ",Object(u.jsx)("strong",{children:"the tasks, constraints, and mandatory words"})," in your utterance"]})]})})})})})]}),Object(u.jsxs)("div",{className:"mt-4 d-grid gap-2 d-sm-flex justify-content-sm-center",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:o,children:Object(u.jsx)("i",{className:"bi bi-chevron-left"})}),Object(u.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:d,children:Object(u.jsx)("i",{className:"bi bi-question-lg"})}),Object(u.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4",onClick:this.handleClickNext,children:Object(u.jsx)("i",{className:"bi bi-check-lg"})})]})]})}}]),n}(a.a.Component),m=1,x=2,p=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;Object(l.a)(this,n),s=t.call(this,e);var a=e.utterance,c=e.step,i=e.selectedIntents,r=e.selectedConstraints;return s.state={utterance:a,selectedIntents:i||[],selectedConstraints:r||[],step:c||i&&i.length>0&&x||m},s.handleIntentClick=s.handleIntentClick.bind(Object(o.a)(s)),s.handleConstrainClick=s.handleConstrainClick.bind(Object(o.a)(s)),s.handleClickNext=s.handleClickNext.bind(Object(o.a)(s)),s.handleClickBack=s.handleClickBack.bind(Object(o.a)(s)),s}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(e,t){if(e.utterance!==this.props.utterance){var n=this.props.utterance;this.setState({utterance:n})}}},{key:"handleIntentClick",value:function(e){var t=this.props.onSelectIntent,n=this.state.selectedIntents;this.toggleIntent(e,n),this.setState({selectedIntents:n,errorMessage:null}),t&&t(n)}},{key:"handleConstrainClick",value:function(e){var t=this.props.onSelectConstraint,n=this.state.selectedConstraints;this.toggleIntent(e,n),this.setState({selectedConstraints:n,errorMessage:null}),t&&t(n)}},{key:"toggleIntent",value:function(e,t){var n=parseInt(e.currentTarget.getAttribute("data-index"));t.indexOf(n)>=0?t.splice(t.indexOf(n),1):isNaN(n)||t.push(n)}},{key:"handleClickNext",value:function(e){e.preventDefault();var t=this.props,n=t.minIntents,s=t.minConstraints,a=t.onClickNext,c=this.state.step,i=this.isValid();if(i&&c===m)this.setState({step:x,valid:i,errorMessage:null});else if(i)a();else{var l=c===m?"You have to select at least ".concat(n," tasks. Click back if you need to update your utterance"):"You have to select at least ".concat(s," constraints. Click back if you need to update your utterance");this.setState({valid:i,errorMessage:l})}}},{key:"handleClickBack",value:function(e){(e.preventDefault(),this.state.step===x)?this.setState({step:m}):(0,this.props.onClickBack)()}},{key:"isValid",value:function(){var e=this.props,t=e.minIntents,n=e.minConstraints,s=this.state,a=s.step,c=s.selectedIntents,i=s.selectedConstraints;return!!(a===m&&c&&c.length>=t)||!!(a===x&&i&&i.length>=n)}},{key:"getInstruction",value:function(){var e=this.props,t=e.minIntents,n=e.minConstraints,s=this.state.step,a=s===m?"Please select the virtual assitance's tasks you used in your utterance":"Please select the virtual assitance's inquiries you used as constraints in your utterance",c=s===m?t:n;return Object(u.jsxs)("span",{children:[Object(u.jsx)("span",{className:"",children:a}),Object(u.jsxs)("span",{className:"",children:[" (you had to use at least ",c,")"]}),Object(u.jsx)("span",{className:"",children:":"})]})}},{key:"render",value:function(){var e=this,t=this.props,n=t.intents,s=t.icons,a=t.constraintIntents,c=t.constraintIcons,i=t.onClickHelp,l=this.state,r=l.utterance,o=l.errorMessage,d=l.selectedIntents,h=l.selectedConstraints,b=l.step,j=this.isValid(),x=this.getInstruction(),p=b===m?n:a,O=b===m?d:h,v=b===m?s:c;return Object(u.jsxs)("div",{className:"verification px-4 py-5 my-5",children:[Object(u.jsxs)("div",{className:"card mt-4",children:[Object(u.jsx)("div",{className:"card-header text-center",children:x}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)("div",{className:"tasks-verification row mb-3",children:Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("div",{className:"row mb-3",children:Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"bd-callout",children:[Object(u.jsx)("div",{className:"utterance text-center",children:Object(u.jsx)("p",{children:r})}),p.map((function(t,n){return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"form-check pt-1 pb-1 mt-1 mb-1 intent selection ".concat(O.indexOf(n)>=0?"selected":""),"data-index":n,onClick:b===m?e.handleIntentClick:e.handleConstrainClick,children:[Object(u.jsx)("input",{className:"form-check-input",type:"checkbox",checked:O.indexOf(n)>=0,id:"intent".concat(n),"data-index":n,onChange:function(e){}}),Object(u.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckDefault",children:Object(u.jsxs)("h5",{children:[Object(u.jsx)("span",{className:"intent-icon bi bi-".concat(v[n])}),t]})})]})},n)})),!j&&Object(u.jsx)("div",{className:"error-messasge text-danger",children:o})]})})})})})})]}),Object(u.jsxs)("div",{className:"mt-4 d-grid gap-2 d-sm-flex justify-content-sm-center",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:this.handleClickBack,children:Object(u.jsx)("i",{className:"bi bi-chevron-left"})}),Object(u.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:i,children:Object(u.jsx)("i",{className:"bi bi-question-lg"})}),Object(u.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4",onClick:this.handleClickNext,children:Object(u.jsx)("i",{className:"bi bi-chevron-right"})})]})]})}}]),n}(a.a.Component),O=n(20),v="intents",g="constraints",f=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;Object(l.a)(this,n),s=t.call(this,e);var a=e.index,c=e.step,i=e.intentsSelections,r=e.constraintsSelections,d=e.intents,h=e.constraintIntents,u=e.selectedIntents,b=e.selectedConstraints;return s.state={index:isNaN(a)?0:-1!==a?a:c===g?b.length-1:u.length-1,step:c,intentsSelections:i&&i.length===d.length?i:new Array(d.length),constraintsSelections:r&&r.length===h.length?r:new Array(h.length)},s.handleClickNext=s.handleClickNext.bind(Object(o.a)(s)),s.handleClickBack=s.handleClickBack.bind(Object(o.a)(s)),s.handleChange=s.handleChange.bind(Object(o.a)(s)),s.handleMouseUp=s.handleMouseUp.bind(Object(o.a)(s)),s}return Object(r.a)(n,[{key:"handleChange",value:function(e){e.preventDefault()}},{key:"handleMouseUp",value:function(){var e=this.props,t=e.selectedIntents,n=e.selectedConstraints,s=this.state,a=s.index,c=s.step,i=s.intentsSelections,l=s.constraintsSelections,r=this.getSelection(),o=r.selectionStart,d=r.selectionEnd;o>=0&&d>o?(c===v?i[t[a]]=[o,d]:l[n[a]]=[o,d],this.setState({intentsSelections:i,constraintsSelections:l,errorMessage:null}),this.props.onSelection(i,l,a)):this.setState({errorMessage:"Please select the part in your utterance that corresponds with the ".concat(c===v?"task":"query",".")})}},{key:"handleClickNext",value:function(e){e.preventDefault();var t=this.props,n=t.selectedIntents,s=t.selectedConstraints,a=this.state,c=a.index,i=a.step,l=a.intentsSelections,r=a.constraintsSelections;if(i===v&&!l[n[c]]||i===g&&!r[s[c]])this.setState({errorMessage:"Did you forget to select the part in your utterance that corresponds with the ".concat(i===v?"task":"query","?")});else{var o=c+1;i===v&&o<n.length||i===g&&o<s.length?this.setState({index:o}):i===v?this.setState({step:g,index:0}):this.props.onClickNext()}}},{key:"handleClickBack",value:function(e){e.preventDefault();var t=this.props.selectedIntents,n=this.state,s=n.index,a=n.step,c=s-1;a===v&&c>=0||a===g&&c>=0?this.setState({index:c}):a===g?this.setState({step:v,index:t.length-1}):this.props.onClickBack()}},{key:"getSelection",value:function(){var e=document.getElementById("utterance-selection");return{selectionStart:e&&e.selectionStart,selectionEnd:e&&e.selectionEnd}}},{key:"render",value:function(){var e=this.props,t=e.utterance,n=e.intents,s=e.constraintIntents,a=e.selectedIntents,c=e.selectedConstraints,i=e.icons,l=e.constraintIcons,r=e.onClickHelp,o=this.state,d=o.index,h=o.step,b=o.intentsSelections,j=o.constraintsSelections,m=o.errorMessage,x=h===v?n[a[d]]:s[c[d]],p=d<i.length?i[a[d]]:l[c[d]],g=h===v?b[a[d]]?b[a[d]]:[null,null]:j[c[d]]?j[c[d]]:[null,null],f=Object(O.a)(g,2),y=f[0],N=f[1],k=y>=0&&N<=t.length&&N>y?t.substring(y,N):"";return Object(u.jsxs)("div",{className:"selections",children:[Object(u.jsxs)("div",{className:"card mt-4",children:[Object(u.jsxs)("div",{className:"card-header text-center",children:[Object(u.jsx)("h5",{children:"Highlight, with your mouse, the part of text in your utterance that references:"}),Object(u.jsxs)("h5",{className:"intent",children:[Object(u.jsx)("span",{className:"intent-icon bi bi-".concat(p)}),Object(u.jsx)("span",{children:x})]})]}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("div",{className:"row mb-3",children:Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("form",{className:"g-3 needs-validation pt-4",onSubmit:this.handleSubmit,noValidate:!0,children:Object(u.jsx)("textarea",{className:"form-control p-3 utterance",rows:"5",value:t,type:"text",id:"utterance-selection","aria-describedby":"help",style:{cursor:"text",border:"none"},onChange:this.handleChange,onMouseUp:this.handleMouseUp})})})}),Object(u.jsx)("div",{className:"row selection mb-3",children:Object(u.jsxs)("div",{className:"col",children:[Object(u.jsx)("span",{className:"selection-head",children:"You selected:"}),k&&Object(u.jsx)("span",{className:"selection-text",children:k})]})}),m&&Object(u.jsx)("div",{className:"row selection mb-3",children:Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("div",{className:"text-red",children:m})})})]})]}),Object(u.jsxs)("div",{className:"mt-4 d-grid gap-2 d-sm-flex justify-content-sm-center",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:this.handleClickBack,children:Object(u.jsx)("i",{className:"bi bi-chevron-left"})}),Object(u.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:r,children:Object(u.jsx)("i",{className:"bi bi-question-lg"})}),Object(u.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4",onClick:this.handleClickNext,children:Object(u.jsx)("i",{className:"bi bi-chevron-right"})})]})]})}}]),n}(a.a.Component),y=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleSubmit=s.handleSubmit.bind(Object(o.a)(s)),s.handleClickBack=s.handleClickBack.bind(Object(o.a)(s)),s}return Object(r.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit()}},{key:"handleClickBack",value:function(e){e.preventDefault(),this.props.onClickBack()}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"thank-you",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h2",{className:"text-muted text-center mb-3",children:"Thank You."}),Object(u.jsxs)("div",{className:"mt-4 d-grid gap-2 d-sm-flex justify-content-sm-center",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:this.handleClickBack,children:Object(u.jsx)("i",{className:"bi bi-chevron-left"})}),Object(u.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4",onClick:this.handleSubmit,children:"Finish"})]})]})})}}]),n}(a.a.Component),N=n(18),k=n(14),C=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={goodUtterance1:"If it rains tomorrow then remind me tonight to bring an umbrella and text John to bring an umbrella",badUtterance1:"If it rains tomorrow then remind me tonight to bring an umbrella",badUtterance2:"Remind me tonight to bring an umbrella. Text John I will meet him at the bar",badUtterance3:"Hello, how are you? Remind me to bring an umbrella",badUtterance4:"It will rain tomorrow and John want to go to the rally, text him the time to be there",badUtterance5:"If it rains send a message",intents:["Delete something on your calendar","Send a text message to anyone on your contact list","Create a reminder"],selectedIntents:[1,2],minIntents:1,icons:["calendar","chat","bell"],constraintIntents:["Inquire on the duration of driving to somewhere","Check weather conditions","Check your text messages"],selectedConstraints:[1],minConstraints:1,constraintIcons:["map","sun","chat"],words:["if","provided that","because","In case","Unless"],selectedWords:[0],context:"office"},s}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.goodUtterance1,n=e.badUtterance1,s=e.badUtterance2,a=e.badUtterance3,c=e.badUtterance4,i=e.badUtterance5,l=e.intents,r=e.minIntents,o=e.icons,d=e.constraintIntents,h=e.minConstraints,b=e.constraintIcons,j=e.words,m=e.context,x=e.selectedConstraints,p=e.selectedIntents,O=e.selectedWords;return Object(u.jsx)("div",{className:"example utterance",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"row mb-5",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"bd-callout",children:[Object(u.jsxs)("p",{children:[Object(u.jsxs)("span",{className:"",children:["Write an utterance that uses ",r," or more of the following tasks your virtual assitance can do for you"]}),Object(u.jsx)("span",{className:"text-muted",children:" (use as many as possible)"}),Object(u.jsx)("span",{className:"",children:":"})]}),l.map((function(e,t){return Object(u.jsxs)("h5",{className:"intent selection ".concat(-1!==p.indexOf(t)?"selected":""),"data-idx":t,children:[Object(u.jsx)("span",{className:"intent-icon bi bi-".concat(o[t])}),Object(u.jsx)("span",{children:e})]},t)}))]})}),Object(u.jsx)("div",{className:"col help",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"1. We will present a group of tasks for you to choose from. In your utterance, these will be the tasks you will order your virtual assistance to do for you"}),Object(u.jsx)("p",{className:"hint text-muted",children:"We selected two for the example"})]})})]}),Object(u.jsxs)("div",{className:"row mb-5",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"bd-callout",children:[Object(u.jsxs)("p",{children:[Object(u.jsxs)("span",{className:"",children:["In your utterance, constraint the tasks you previously choosed (any or all) with ",h," or more queries your virtual assitance can do for you"]}),Object(u.jsx)("span",{className:"text-muted",children:" (use as many as possible)"}),Object(u.jsx)("span",{className:"",children:":"})]}),d.map((function(e,t){return Object(u.jsxs)("h5",{className:"intent selection ".concat(-1!==x.indexOf(t)?"selected":""),"data-idx":t,children:[Object(u.jsx)("span",{className:"intent-icon bi bi-".concat(b[t])}),Object(u.jsx)("span",{children:e})]},t)}))]})}),Object(u.jsx)("div",{className:"col help",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"2. We will sometimes ask you to constraint the execution of the tasks (all or part) you selected. Choose the queries that will help you virtual assistance to decide whether to excute the tasks or not."}),Object(u.jsx)("p",{className:"hint text-muted",children:"We selected one for the example"})]})})]}),j&&j.length>0&&Object(u.jsxs)("div",{className:"row mb-5",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"bd-callout bd-callout-yellow2",children:[Object(u.jsx)("p",{children:Object(u.jsxs)("span",{className:"text-muted",children:["Please use at least 1 of the following word",j.length>1?"s":""," in your utterance:"]})}),Object(u.jsx)("div",{className:"pl-1 pr-1",children:j&&j.map((function(e,t){return Object(u.jsx)("span",{className:"word selection ".concat(-1!==O.indexOf(t)?"selected":""),children:e},t)}))})]})}),Object(u.jsx)("div",{className:"col help",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"3. To help you write rich utterances we ask you to use any of the given words"}),Object(u.jsx)("p",{className:"hint text-muted",children:"We selected one for the example"})]})})]}),Object(u.jsxs)("div",{className:"row mb-5",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"bd-callout context",children:[Object(u.jsx)("p",{className:"text-muted",children:"To help your creativity, we suggest a context for your utterance (optional):"}),Object(u.jsx)("h5",{children:m})]})}),Object(u.jsx)("div",{className:"col help",children:Object(u.jsx)("p",{children:"4. In your utternace, you can use the suggested context or ignore it if you think of a better one"})})]}),Object(u.jsx)("div",{className:"row mb-5",children:Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("h4",{className:"text-center",children:"Writing the utterance"})})}),Object(u.jsxs)("div",{className:"row mb-5",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("textarea",{className:"form-control is-valid",rows:"5",value:t,type:"text",id:"utterance","aria-describedby":"help"})}),Object(u.jsx)("div",{className:"col help",children:Object(u.jsx)("p",{children:"Good example: this utterance uses 1 constraint to condition the exection of 2 of the selected tasks, while including mandatory word."})})]}),Object(u.jsxs)("div",{className:"row mb-5",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("textarea",{className:"form-control is-invalid",rows:"5",value:n,type:"text",id:"utterance","aria-describedby":"help"})}),Object(u.jsx)("div",{className:"col help",children:Object(u.jsx)("p",{children:"Bad example: This example just uses a single task (a minimum of 2 is required)."})})]}),Object(u.jsxs)("div",{className:"row mb-5",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("textarea",{className:"form-control is-invalid",rows:"5",value:s,type:"text",id:"utterance","aria-describedby":"help"})}),Object(u.jsx)("div",{className:"col help",children:Object(u.jsx)("p",{children:"Bad example: Does not use any of the constraints, and does not use any of the mandatory words (minimum of 1 is required)."})})]}),Object(u.jsxs)("div",{className:"row mb-5",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("textarea",{className:"form-control is-invalid",rows:"5",value:a,type:"text",id:"utterance","aria-describedby":"help"})}),Object(u.jsx)("div",{className:"col help",children:Object(u.jsx)("p",{children:"Bad example: Avoid greetings and politeness."})})]}),Object(u.jsxs)("div",{className:"row mb-5",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("textarea",{className:"form-control is-invalid",rows:"5",value:c,type:"text",id:"utterance","aria-describedby":"help"})}),Object(u.jsx)("div",{className:"col help",children:Object(u.jsx)("p",{children:"Bad example: Avoid irrelevant information - updating the virtual assistance on the weather and your friend's intensions (going to the rally) is irrelevant. Be specific and straight to the point! "})})]}),Object(u.jsxs)("div",{className:"row mb-5",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("textarea",{className:"form-control is-invalid",rows:"5",value:i,type:"text",id:"utterance","aria-describedby":"help"})}),Object(u.jsx)("div",{className:"col help",children:Object(u.jsx)("p",{children:"Bad example: Missing required information. Don't expect your virtual assistance to guess. When will it rain? Who should it send a message and what message? "})})]})]})})}}]),n}(a.a.Component),S=n(36),I=function(e){return Object(u.jsxs)(k.a,Object(N.a)(Object(N.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",animation:!1,centered:!0,children:[Object(u.jsx)(k.a.Header,{children:Object(u.jsx)(k.a.Title,{id:"contained-modal-title-vcenter",children:"Help: Writing an utterance (with examples)"})}),Object(u.jsx)(k.a.Body,{children:Object(u.jsx)("div",{children:e.children})}),Object(u.jsx)(k.a.Footer,{children:Object(u.jsx)(S.a,{onClick:e.onHide,children:"Close"})})]}))},w=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.onHide;return Object(u.jsx)("div",{className:"help",children:Object(u.jsx)(I,{show:t,onHide:n,children:Object(u.jsx)(C,{})})})}}]),n}(a.a.Component),B=(n(31),1),E=3,U=4,q=5,A=6,M=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;Object(l.a)(this,n),s=t.call(this,e);var a=e.intents,c=e.constraintIntents;return s.state={currentScreen:B,intentsSelections:new Array(a.length),constraintsSelections:new Array(c.length)},s.handleClickBack=s.handleClickBack.bind(Object(o.a)(s)),s.handleClickNext=s.handleClickNext.bind(Object(o.a)(s)),s.handleClickHelp=s.handleClickHelp.bind(Object(o.a)(s)),s.handleUtteranceChange=s.handleUtteranceChange.bind(Object(o.a)(s)),s.handleSelectIntent=s.handleSelectIntent.bind(Object(o.a)(s)),s.handleSelectConstraint=s.handleSelectConstraint.bind(Object(o.a)(s)),s.handleSelection=s.handleSelection.bind(Object(o.a)(s)),s}return Object(r.a)(n,[{key:"submitToMTurk",value:function(){var e=this.props,t=e.intents,n=e.constraintIntents,s=this.state,a=s.utterance,c=s.context,i=s.selectedIntents,l=s.selectedConstraints,r=s.intentsSelections,o=s.constraintsSelections,d=c,h=i.map((function(e){return t[e]})).join(" | "),u=l.map((function(e){return n[e]})).join(" | "),b=i.map((function(e){return a.substring(r[e][0],r[e][1])})).join(" | "),j=l.map((function(e){return a.substring(o[e][0],o[e][1])})).join(" | ");document.querySelector("crowd-form").onsubmit=function(){document.getElementById("utterance")&&(document.getElementById("context").value=d,document.getElementById("utterance").value=a,document.getElementById("intents").value=h,document.getElementById("constraints").value=u,document.getElementById("intents-annotations").value=b,document.getElementById("constraints-annotations").value=j)},document.querySelector("crowd-form").submit()}},{key:"handleClickNext",value:function(){var e=this.state.currentScreen;e===B?this.setState({currentScreen:E}):e===E?this.setState({currentScreen:q,verificationStep:m}):e===q?this.setState({currentScreen:U,selectionsStep:v,currentSelectionIndex:0}):e===U?this.setState({currentScreen:A}):e===A&&this.submitToMTurk(this.state)}},{key:"handleClickBack",value:function(){var e=this.state.currentScreen;e===E?this.setState({currentScreen:B}):e===q?this.setState({currentScreen:E}):e===U?this.setState({currentScreen:q,verificationStep:2}):e===A&&this.setState({currentScreen:U,selectionsStep:g,currentSelectionIndex:-1})}},{key:"handleClickHelp",value:function(){this.setState({showHelp:!0})}},{key:"handleUtteranceChange",value:function(e,t){this.setState({utterance:e,context:t})}},{key:"handleSelectIntent",value:function(e){var t=this.state.intentsSelections;this.setState({selectedIntents:e,intentsSelections:t.map((function(t,n){return-1!==e.indexOf(n)?t:null}))})}},{key:"handleSelectConstraint",value:function(e){var t=this.state.constraintsSelections;this.setState({selectedConstraints:e,constraintsSelections:t.map((function(t,n){return-1!==e.indexOf(n)?t:null}))})}},{key:"handleSelection",value:function(e,t,n){this.setState({intentsSelections:e,constraintsSelections:t,currentSelectionIndex:n})}},{key:"getDisplayedScreen",value:function(){var e=this.props,t=e.contexts,n=e.maxLength,s=e.maxLengthPerIntent,a=e.minIntents,c=e.minConstraints,i=e.intents,l=e.constraintIntents,r=e.icons,o=e.constraintIcons,d=e.linkWords,h=this.state,m=h.currentScreen,x=h.utterance,O=h.context,v=h.selectedIntents,g=h.selectedConstraints,N=h.intentsSelections,k=h.constraintsSelections,C=h.selectionsStep,S=h.currentSelectionIndex,I=h.verificationStep,w=d,M=n||s*i.length||250;return m===B?Object(u.jsx)(b,{onClickExample:this.handleClickHelp,onClickSkip:this.handleClickNext}):m===E?Object(u.jsx)(j,{utterance:x,utteranceLimit:M,minIntents:a,minConstraints:c,intents:i,constraintIcons:o,constraintIntents:l,icons:r,words:w,contexts:t,context:O,onUtteranceChange:this.handleUtteranceChange,onClickNext:this.handleClickNext,onClickBack:this.handleClickBack,onClickHelp:this.handleClickHelp}):m===q?Object(u.jsx)(p,{utterance:x,step:I,minIntents:a,minConstraints:c,intents:i,constraintIntents:l,icons:r,constraintIcons:o,selectedIntents:v,selectedConstraints:g,onSelectIntent:this.handleSelectIntent,onSelectConstraint:this.handleSelectConstraint,onClickNext:this.handleClickNext,onClickBack:this.handleClickBack,onClickHelp:this.handleClickHelp}):m===U?Object(u.jsx)(f,{utterance:x,intents:i,constraintIntents:l,icons:r,constraintIcons:o,selectedIntents:v,selectedConstraints:g,intentsSelections:N,constraintsSelections:k,step:C,index:S,onSelection:this.handleSelection,onClickNext:this.handleClickNext,onClickBack:this.handleClickBack,onClickHelp:this.handleClickHelp}):m===A?Object(u.jsx)(y,{onSubmit:this.handleClickNext,onClickBack:this.handleClickBack}):void 0}},{key:"render",value:function(){var e=this,t=this.state.showHelp,n=this.getDisplayedScreen();return Object(u.jsx)("div",{className:"utterances",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("main",{children:[n,t&&Object(u.jsx)(w,{show:t,onHide:function(){return e.setState({showHelp:!1})}})]})})})}}]),n}(a.a.Component),H=(n(32),function(e){var t=e.id,n=e.context,s=e.contexts,a=e.intents,c=e.icons,i=e.minIntents,l=e.constraintIntents,r=e.constraintIcons,o=e.minConstraints,d=e.linkWords,h=e.linkWordIdx,b=e.quantifiers,j=e.quantifierIdx,m=e.maxLength,x=e.maxLengthPerIntent;return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(M,{id:t,context:n,contexts:s,intents:a,icons:c,minIntents:i,constraintIntents:l,constraintIcons:r,minConstraints:o,linkWords:d,linkWordIdx:h,quantifiers:b,quantifierIdx:j,maxLength:m,maxLengthPerIntent:x})})}),T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),c(e),i(e)}))},W=document.getElementById("root").getAttribute("data-id"),D=document.getElementById("root").getAttribute("data-context"),L=document.getElementById("root").getAttribute("data-contexts").split("|").map((function(e){return e.trim()})),P=document.getElementById("root").getAttribute("data-intents").split("|").map((function(e){return e.trim()})),F=document.getElementById("root").getAttribute("data-intent-icons").split("|").map((function(e){return e.trim()})),V=parseInt(document.getElementById("root").getAttribute("data-min-intents")),R=document.getElementById("root").getAttribute("data-constraints").split("|").map((function(e){return e.trim()})),J=document.getElementById("root").getAttribute("data-constraint-icons").split("|").map((function(e){return e.trim()})),Y=parseInt(document.getElementById("root").getAttribute("data-min-constraints")),z=document.getElementById("root").getAttribute("data-link-words").split("|").map((function(e){return e.trim()})),G=document.getElementById("root").getAttribute("data-quantifiers").split("|").map((function(e){return e.trim()})),K=parseInt(document.getElementById("root").getAttribute("data-max-length")),Q=parseInt(document.getElementById("root").getAttribute("data-max-length-per-intent"));i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(H,{id:W,context:D,contexts:L,intents:P,icons:F,minIntents:V,constraintIntents:R,constraintIcons:J,minConstraints:Y,linkWords:z,quantifiers:G,maxLength:K,maxLengthPerIntent:Q})}),document.getElementById("root")),T()}},[[33,1,2]]]);
//# sourceMappingURL=main.5e6e0814.chunk.js.map