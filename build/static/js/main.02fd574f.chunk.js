(this.webpackJsonpmturk=this.webpackJsonpmturk||[]).push([[0],{27:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),i=n(13),r=n.n(i),c=(n(26),n(27),n(14)),l=n(8),o=n(9),d=n(4),h=n(12),u=n(11),b=n(20),j=n(15),m=n(36),x=n(0),p=function(e){return Object(x.jsxs)(j.a,Object(b.a)(Object(b.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",animation:!1,centered:!0,children:[Object(x.jsx)(j.a.Header,{closeButton:!0,children:Object(x.jsx)(j.a.Title,{id:"contained-modal-title-vcenter",children:"Help"})}),Object(x.jsx)(j.a.Body,{children:Object(x.jsx)("div",{children:e.children})}),Object(x.jsx)(j.a.Footer,{children:Object(x.jsx)(m.a,{onClick:e.onHide,children:"Close"})})]}))},O=function(){var e=a.a.useState(!1),t=Object(c.a)(e,2),n=t[0],s=t[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m.a,{variant:"info",onClick:function(){return s(!0)},children:"Help"}),Object(x.jsx)(p,{show:n,onHide:function(){return s(!1)},children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("h5",{children:"Good example"}),Object(x.jsxs)("div",{className:"card border-success rounded mb-3 p-3",style:{height:"321px"},children:[Object(x.jsx)("strong",{children:"Context"}),Object(x.jsx)("p",{children:"A workout"}),Object(x.jsx)("strong",{children:"Your administrative assistance can do the following:"}),Object(x.jsxs)("ol",{children:[Object(x.jsx)("li",{children:"Get weather information"}),Object(x.jsx)("li",{children:"Send a text message to anyone on your contact list"})]}),Object(x.jsx)("strong",{children:"Response"}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{style:{"background-color":"#7FFF00"},children:"Tell Thomas to bring shorts "}),Object(x.jsx)("span",{style:{"background-color":"yellow"},children:"if it's going to be hot tomorrow"})]})]}),Object(x.jsxs)("div",{className:"card border-success rounded mb-3 p-3",style:{height:"321px"},children:[Object(x.jsx)("strong",{children:"Context"}),Object(x.jsx)("p",{children:"A concert"}),Object(x.jsx)("strong",{children:"Your administrative assistance can do the following:"}),Object(x.jsxs)("ol",{children:[Object(x.jsx)("li",{children:"Get events information"}),Object(x.jsx)("li",{children:"Create a reminder"})]}),Object(x.jsx)("strong",{children:"Response"}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{style:{"background-color":"yellow"},children:"Create a reminder for "}),Object(x.jsx)("span",{style:{"background-color":"#7FFF00"},children:"every Drake's concert this summer in the city"})]})]})]}),Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("h5",{children:"Bad example"}),Object(x.jsxs)("div",{className:"card border-danger rounded mb-3 p-3",style:{height:"321px"},children:[Object(x.jsx)("strong",{children:"Context"}),Object(x.jsx)("p",{children:"A workout"}),Object(x.jsx)("strong",{children:"Your administrative assistance can do the following:"}),Object(x.jsxs)("ol",{children:[Object(x.jsx)("li",{children:"Get weather information"}),Object(x.jsx)("li",{children:"Send a text message to anyone on your contact list"})]}),Object(x.jsxs)("strong",{children:["Response (",Object(x.jsx)("span",{style:{color:"red"},children:"wrong - using just one intent"}),")"]}),Object(x.jsx)("p",{style:{color:"red"},children:"Is it going to be hot tomorrow?"})]})]})]})})})]})},g=function(e){var t=e.header,n=e.instructions,s=e.utterance,a=e.progress,i=e.hideHelp,r=e.hideHeader,c=e.hideUtterance;return Object(x.jsx)("div",{className:"instructions",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("div",{className:"mx-auto",children:[!r&&Object(x.jsx)("h4",{children:t||"Instructions"}),Object(x.jsx)("div",{children:n}),!c&&Object(x.jsx)("p",{className:"text-center text-muted rounded border-primary p-3 mb-5",children:s}),!i&&Object(x.jsx)(O,{})]}),Object(x.jsx)("div",{className:"progress mt-5 mb-5 ml-auto mr-auto",style:{width:"90%"},children:Object(x.jsxs)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(a,"%")},"aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100",children:[parseInt(a),"%"]})})]})})},v=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var s;Object(l.a)(this,n),s=t.call(this,e);var a=e.utterance,i=s.getWords(e),r=Object(c.a)(i,2),o=r[0],h=r[1];return s.state={utterance:a,words:o,wordsIndex:h},s.handleChange=s.handleChange.bind(Object(d.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s.handleBack=s.handleBack.bind(Object(d.a)(s)),s}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e,t){if(e.utterance!==this.props.utterance){var n=this.props.utterance;this.setState({utterance:n})}if(e.index!==this.props.index){var s=this.getWords(this.props),a=Object(c.a)(s,2),i=a[0],r=a[1];this.setState({words:i,wordsIndex:r})}}},{key:"getWords",value:function(e){var t=e.index,n=e.linkWord,s=e.linkWordIdx,a=e.quantifier,i=e.quantifierIdx;return[[t>=s&&n,t>=i&&a].filter((function(e){return e&&e.length>0})),[t>=s&&s,t>=i&&i].filter((function(e){return!1!==e}))]}},{key:"handleChange",value:function(e){var t=this.props.utteranceLimit,n=e.target.value,s=n.length<=t?n:this.state.utterance||"";this.setState({utterance:s})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.utterance,n=this.isUtteranceValid();n?this.props.onSubmit(t):this.setState({valid:n})}},{key:"handleBack",value:function(e){e.preventDefault(),this.setState({errorMessage:null}),this.props.onBack()}},{key:"isUtteranceValid",value:function(){var e=this.props.intents,t=this.state,n=t.utterance,s=t.words,a=s&&s.length>0&&s.find((function(e){return-1===n.toLowerCase().indexOf("".concat(e.toLowerCase()))}));return!(!n||0===n.length)&&(n.split(" ").length<=2?(this.setState({errorMessage:Object(x.jsx)("span",{children:"Please be more creative."})}),!1):e.some((function(e){return n.toLowerCase().indexOf(e.toLowerCase())>=0}))?(this.setState({errorMessage:Object(x.jsx)("span",{children:"Please write a valid request in plain English."})}),!1):a?(this.setState({errorMessage:Object(x.jsxs)("span",{children:["Please write a valid request that includes the mandatory word ",Object(x.jsx)("strong",{children:a}),"."]})}),!1):!(n.indexOf("?")>=0&&n.indexOf("?")<.5*n.length||n.trim().split("?").filter((function(e){return e.length>0})).length>1)||(this.setState({errorMessage:Object(x.jsxs)("span",{children:["Please phrase the utterance as a ",Object(x.jsx)("strong",{children:"single"})," request (and not in multiple phrases)."]})}),!1))}},{key:"render",value:function(){var e=this.props,t=e.context,n=e.intents,s=e.icons,a=e.index,i=e.utteranceLimit,r=this.state,c=r.words,l=r.wordsIndex,o=r.utterance,d=r.valid,h=r.errorMessage,u=!(o&&o.length>0),b=0===a?"Write your request":"Edit your request",j=0===a?"Write a request to your virtual assistance":"Edit your request to your virtual assistance";return Object(x.jsxs)("div",{className:"form",children:[Object(x.jsxs)("div",{className:"container ml-auto mr-auto card border-warning bg-light rounded p-3",style:{marginTop:"50px",marginBottom:"50px",width:"100%",borderColor:"#ffc107"},children:[Object(x.jsx)("div",{className:"row mb-3",children:Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)("div",{className:"bd-callout bd-callout-yellow2",children:[Object(x.jsx)("p",{className:"text-muted",children:"Tasks your assistance can do for you:"}),n.map((function(e,t){return Object(x.jsxs)("h5",{className:t===a?"text-in":t<a?"text-out":"text-light-grey",children:[Object(x.jsx)("span",{className:"bi bi-".concat(s[t]),style:{paddingRight:"15px"}}),e]},t)}))]})})}),Object(x.jsx)("div",{className:"row mb-3",children:Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)("div",{className:"bd-callout bd-callout-yellow1",children:[Object(x.jsx)("p",{className:"text-muted",children:"Context:"}),Object(x.jsx)("h5",{children:t})]})})}),c&&c.length>0&&Object(x.jsx)("div",{className:"row mb-3",children:Object(x.jsx)("div",{className:"col",children:Object(x.jsx)("div",{className:"bd-callout bd-callout-yellow2",children:Object(x.jsxs)("h6",{children:["Please include the word",c.length>1?"s":"",Object(x.jsx)("span",{className:"pl-1 pr-1",children:c&&c.map((function(e,t){return Object(x.jsx)("span",{style:{fontSize:l[t]===a?"2rem":"1.3rem"},children:e+(t<c.length-1?", ":"")},t)}))})," in your request."]})})})})]}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("h2",{children:b}),Object(x.jsxs)("form",{className:"g-3 needs-validation",onSubmit:this.handleSubmit,noValidate:!0,children:[Object(x.jsxs)("div",{className:"has-validation mb-3",children:[Object(x.jsx)("label",{className:"form-label",style:{display:"none"},children:j}),Object(x.jsx)("textarea",{className:"form-control ".concat(!0===d?"is-valid":!1===d&&"is-invalid"),rows:"5",value:o,type:"text",id:"utterance","aria-describedby":"help",onChange:this.handleChange,placeholder:"Type your request here...",required:!0}),Object(x.jsxs)("div",{className:"p-1 m-1 ".concat((o||"").length>=i?"text-red":""),children:[(o||"").length," / ",i]}),Object(x.jsx)("div",{className:"invalid-feedback",children:h}),Object(x.jsxs)("div",{id:"help",className:"form-text text-muted",children:["Don't forget to use ",Object(x.jsx)("strong",{children:"all tasks"})," in your request"]})]}),Object(x.jsxs)("div",{className:"btn-toolbar mb-3",role:"toolbar",children:[a>0&&Object(x.jsx)("div",{className:"btn-group pl-2 pr-2",role:"group",children:Object(x.jsxs)("button",{type:"Back",className:"btn btn-secondary",onClick:this.handleBack,children:[Object(x.jsx)("i",{className:"bi bi-arrow-left pr-1"}),"Back"]})}),Object(x.jsx)("div",{className:"btn-group  ".concat(0!==a?"mr-2":""),role:"group",children:Object(x.jsx)("button",{type:"Submit",className:"btn btn-primary pl-4 pr-4",disabled:u,children:a===n.length-1?"Verify":"Next: Update request with another task"})})]})]})]})]})}}]),n}(a.a.Component),f=n(16),y=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={},s.handleChangeValue=s.handleChangeValue.bind(Object(d.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s.handleBack=s.handleBack.bind(Object(d.a)(s)),s}return Object(o.a)(n,[{key:"handleChangeValue",value:function(e){var t=e.target,n=t.name,s=t.id.endsWith("pos");this.setState(Object(f.a)({},n,s))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit()}},{key:"handleBack",value:function(e){e.preventDefault(),this.props.onBack()}},{key:"render",value:function(){var e=this.props,t=e.intents,n=e.icons,s=e.linkWord,a=this.state,i=a.tasksVerification,r=a.linkWordVerification,c=!i||s&&s.length>0&&!r;return Object(x.jsx)("div",{className:"phrase-verification",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h5",{className:"mb-3",children:"Did you use all the listed tasks in your request?"}),Object(x.jsx)("div",{className:"bd-callout bd-callout-yellow2",children:t.map((function(e,t){return Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:"bi bi-".concat(n[t]),style:{paddingRight:"15px"}}),e]},t)}))}),Object(x.jsxs)("div",{className:"text-center",onChange:this.handleChangeValue,children:[Object(x.jsxs)("div",{className:"form-check form-check-inline",children:[Object(x.jsx)("input",{className:"form-check-input",type:"radio",name:"tasksVerification",id:"tvpos",value:i}),Object(x.jsx)("label",{className:"form-check-label",children:"Yes"})]}),Object(x.jsxs)("div",{className:"form-check form-check-inline",children:[Object(x.jsx)("input",{className:"form-check-input",type:"radio",name:"tasksVerification",id:"tvneg",value:!i}),Object(x.jsx)("label",{className:"form-check-label",children:"No"})]})]})]}),!1,Object(x.jsxs)("div",{className:"btn-toolbar mt-5 mb-3",role:"toolbar",children:[Object(x.jsx)("div",{className:"btn-group mr-2",role:"group",children:Object(x.jsxs)("button",{type:"Back",className:"btn btn-secondary",onClick:this.handleBack,children:[Object(x.jsx)("i",{className:"bi bi-arrow-left pr-1"}),"Back"]})}),Object(x.jsx)("div",{className:"btn-group mr-2",role:"group",children:Object(x.jsx)("button",{type:"submit",className:"btn btn-primary pl-4 pr-4",onClick:this.handleSubmit,disabled:c,children:"Submit"})})]})]})})}}]),n}(a.a.Component),k=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var s;Object(l.a)(this,n),s=t.call(this,e);var a=e.index,i=e.selectionStart,r=e.selectionEnd;return s.state={index:a,selectionStart:i,selectionEnd:r},s.handleChange=s.handleChange.bind(Object(d.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s.handleBack=s.handleBack.bind(Object(d.a)(s)),s.handleMouseUp=s.handleMouseUp.bind(Object(d.a)(s)),s}return Object(o.a)(n,[{key:"getSelection",value:function(){var e=document.getElementById("utterance-selection");return{selectionStart:e&&e.selectionStart,selectionEnd:e&&e.selectionEnd}}},{key:"setSelectedText",value:function(e,t){var n=document.getElementById("utterance-selection");n&&n.setSelectionRange(e,t)}},{key:"handleMouseUp",value:function(e){var t=this.getSelection(),n=t.selectionStart,s=t.selectionEnd;this.setState({selectionStart:n,selectionEnd:s,errorMessage:null})}},{key:"handleChange",value:function(e){e.preventDefault()}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,n=t.selectionStart,s=t.selectionEnd;if(n>=0&&s>n){var a=this.props.index;this.props.onSubmit(a,n,s,!0)}else this.setState({selected:!0,errorMessage:"Please select the part in your utterance that fits the task."})}},{key:"handleBack",value:function(e){e.preventDefault(),this.props.onBack()}},{key:"render",value:function(){var e=this.props,t=e.utterance,n=e.intents[e.index],s=this.state,a=s.selectionStart,i=s.selectionEnd,r=!(a>=0&&i>a),c=t.substring(a,i);return Object(x.jsx)("div",{className:"Selections",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("div",{className:"card text-dark border-primary mb-3",children:[Object(x.jsxs)("div",{className:"card-header text-white bg-primary",children:["Select the text that references ",Object(x.jsxs)("strong",{children:['"',n,'"']}),":"]}),Object(x.jsx)("div",{className:"card-body p-0",children:Object(x.jsx)("p",{className:"card-text",children:Object(x.jsx)("textarea",{className:"form-control p-3",rows:"5",value:t,type:"text",id:"utterance-selection","aria-describedby":"help",style:{cursor:"text",border:"none"},onChange:this.handleChange,onMouseUp:this.handleMouseUp})})})]}),Object(x.jsxs)("div",{className:"card text-dark bg-light mb-3",children:[Object(x.jsx)("div",{className:"card-header",children:"You selected:"}),Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)("p",{className:"card-text",children:c})})]}),Object(x.jsxs)("div",{className:"btn-toolbar",role:"toolbar",children:[Object(x.jsx)("div",{className:"btn-group mr-2",role:"group",children:Object(x.jsxs)("button",{type:"Back",className:"btn btn-secondary",onClick:this.handleBack,children:[Object(x.jsx)("i",{className:"bi bi-arrow-left pr-1"}),"Back"]})}),Object(x.jsx)("div",{className:"btn-group mr-2",role:"group",children:Object(x.jsx)("button",{type:"submit",className:"btn btn-primary pl-4 pr-4",onClick:this.handleSubmit,disabled:r,children:"Submit"})})]})]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.index,s=e.selectionStart,a=e.selectionEnd;return{index:n,selectionStart:n===t.index?t.selectionStart:s,selectionEnd:n===t.index?t.selectionEnd:a}}}]),n}(a.a.Component),N=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s.handleBack=s.handleBack.bind(Object(d.a)(s)),s}return Object(o.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit()}},{key:"handleBack",value:function(e){e.preventDefault(),this.props.onBack()}},{key:"render",value:function(){return Object(x.jsx)("div",{className:"thank-you",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("h2",{className:"text-muted text-center mb-3",children:"Thank You."}),Object(x.jsxs)("div",{className:"col-md-12 text-center",role:"toolbar",children:[Object(x.jsx)("div",{className:"btn-group mr-2",role:"group",children:Object(x.jsxs)("button",{type:"Back",className:"btn btn-secondary",onClick:this.handleBack,children:[Object(x.jsx)("i",{className:"bi bi-arrow-left pr-1"}),"Back"]})}),Object(x.jsx)("div",{className:"btn-group mr-2",role:"group",children:Object(x.jsx)("button",{type:"Submit",className:"btn btn-primary pl-4 pr-4",onClick:this.handleSubmit,children:"Done"})})]})]})})}}]),n}(a.a.Component),S=0,w=1,I=2,B=3,C=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var s;Object(l.a)(this,n),s=t.call(this,e);var a=e.intents,i=e.linkWord,r=e.quantifier,c=a.map((function(e){return[0,0]})),o=s.getWords({linkWord:i,quantifier:r}),h=o&&o.length>0?Math.floor(Math.random()*o.length):1/0;return s.state={status:S,utterances:new Array(a.length),intentsSelections:c,intentIndex:0,intentSelectionIndex:0,words:o,wordsIndex:h},s.handleSubmitUtterance=s.handleSubmitUtterance.bind(Object(d.a)(s)),s.handleUtteranceVerification=s.handleUtteranceVerification.bind(Object(d.a)(s)),s.handleSelection=s.handleSelection.bind(Object(d.a)(s)),s.handleBack=s.handleBack.bind(Object(d.a)(s)),s.handleMTurkSubmit=s.handleMTurkSubmit.bind(Object(d.a)(s)),s}return Object(o.a)(n,[{key:"getWords",value:function(e){var t=e.linkWord,n=e.quantifier;return t&&0!==t.length||n&&0!==n.length?[t,n].filter((function(e){return e&&e.length>0})).map((function(e){return{score:Math.random(),value:e}})).sort((function(e,t){return e.score-t.score})).map((function(e){return e.value})):null}},{key:"getInstructions",value:function(){var e=this.props,t=e.intents,n=e.icons,s=this.state,a=s.status,i=s.intentIndex,r=s.intentSelectionIndex;return a===S&&0===i?Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{className:"lead fs-5 d",children:"Write a request to your virtual assistance in plain English that will use the given tasks your assistance can do in the provided context."}),Object(x.jsx)("p",{children:"Try to be as creative as you can, don't be overly formal, simply write in plain English what you would say if you were in the given situation. Click 'Help' to see few examples."}),Object(x.jsx)("p",{className:"bg-warning text-dark text-center p-2 mb-4",children:Object(x.jsxs)("em",{children:["The best utterances phrase the tasks in relation to one-another in a ",Object(x.jsx)("u",{children:"single"})," request."]})})]}):a===S&&i>0?Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{className:"lead fs-5 d",children:"Rephrase your previous request with another task in a single sentence."}),Object(x.jsx)("p",{children:"Again, try to be as creative as you can, don't be overly formal. Click 'Help' to see few examples."}),Object(x.jsx)("p",{className:"bg-warning text-dark text-center p-2 mb-4",children:Object(x.jsxs)("em",{children:["The best utterances phrase the tasks in relation to one-another in a ",Object(x.jsx)("u",{children:"single"})," request."]})})]}):a===w?Object(x.jsx)("div",{children:Object(x.jsx)("p",{className:"lead fs-5 d",children:"Review your request and verify it was written correctly. "})}):a===I?Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{className:"lead fs-5 d",children:"Highlight with your mouse the part in your request that references the following task:"}),Object(x.jsxs)("h5",{className:"mt-3 mb-4",children:[Object(x.jsx)("span",{className:"bi bi-".concat(n[r]),style:{paddingRight:"15px"}}),t[r]]})]}):["",""]}},{key:"getHeader",value:function(){return this.state.status===w?"Review your request":null}},{key:"handleMTurkSubmit",value:function(){var e=this.state,t=e.utterance,n=e.utterances,s=e.intentsSelections.map((function(e){return e.join(", ")})).join(" | "),a=n.join(" | ");document.querySelector("crowd-form").onsubmit=function(){document.getElementById("utterance")&&(document.getElementById("utterance").value=t,document.getElementById("annotations").value=s,document.getElementById("utterances").value=a)},document.querySelector("crowd-form").submit()}},{key:"handleUtteranceVerification",value:function(){var e=I;this.setState({status:e})}},{key:"handleSubmitUtterance",value:function(e){var t=this.props.intents,n=this.state,s=n.intentIndex,a=n.status,i=n.utterances;i[s]=i[s]||e,s=Math.min(s+1,t.length),a===S&&s===t.length&&(a=w),this.setState({utterance:e,utterances:i,status:a,intentIndex:s})}},{key:"handleBack",value:function(){var e=this.state,t=e.status,n=e.intentIndex,s=e.intentSelectionIndex,a=t;t===B||t===I&&s>0?(a=I,s=Math.max(s-1,0)):t===I?a=w:t!==w&&t!==S||(a=S,n=Math.max(n-1,0)),this.setState({status:a,intentIndex:n,intentSelectionIndex:s})}},{key:"handleSelection",value:function(e,t,n,s){var a=this.state,i=a.intentsSelections,r=a.status;i[e]=[t,n];var c=this.props.intents,l=c.every((function(e,t){return i[t][0]>=0&&i[t][1]>i[t][0]}));s&&l&&e===c.length-1&&(r=B),this.setState({intentsSelections:i,status:r,intentSelectionIndex:Math.min(e+1,c.length)})}},{key:"getProgress",value:function(){var e=this.props,t=e.intents,n=e.linkWord,s=this.state,a=s.status,i=s.intentIndex,r=s.intentSelectionIndex,c=2*t.length+(n?1:0);switch(a){case S:return i/c*100;case w:return t.length/c*100;case I:return(t.length+1+r)/c*100;case B:return 100;default:return 0}}},{key:"render",value:function(){var e=this.props,t=e.context,n=e.intents,s=e.icons,a=e.maxLength,i=e.maxLengthPerIntent,r=e.linkWord,l=e.linkWordIdx,o=e.quantifier,d=e.quantifierIdx,h=this.state,u=h.status,b=h.utterance,j=h.intentIndex,m=h.intentsSelections,p=h.intentSelectionIndex,O=p>=0&&p<n.length?m[p]:[0,0],f=Object(c.a)(O,2),C=f[0],q=f[1],E=this.getProgress(),W=this.getInstructions(),M=this.getHeader(),A=a||i*n.length||250;return Object(x.jsx)("div",{className:"utterances",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row align-items-center",children:[Object(x.jsx)("div",{className:"col",children:Object(x.jsx)(g,{header:M,instructions:W,utterance:b,progress:E,hideHeader:u===B,hideHelp:u===B,hideUtterance:u===w})}),Object(x.jsxs)("div",{className:"col",children:[u===S&&Object(x.jsx)(v,{utterance:b,context:t,intents:n,icons:s,index:j,linkWord:r,linkWordIdx:l,quantifier:o,quantifierIdx:d,utteranceLimit:A,onSubmit:this.handleSubmitUtterance,onBack:this.handleBack}),u===w&&Object(x.jsx)(y,{intents:n,icons:s,onSubmit:this.handleUtteranceVerification,onBack:this.handleBack}),u===I&&Object(x.jsx)(k,{utterance:b,selectionStart:C,selectionEnd:q,intents:n,icons:s,index:p,onSubmit:this.handleSelection,onBack:this.handleBack}),u===B&&Object(x.jsx)(N,{onSubmit:this.handleMTurkSubmit,onBack:this.handleBack})]})]})})})}}]),n}(a.a.Component),q=(n(32),function(e){var t=e.id,n=e.context,s=e.intents,a=e.icons,i=e.linkWord,r=e.linkWordIdx,c=e.quantifier,l=e.quantifierIdx,o=e.maxLength,d=e.maxLengthPerIntent;return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(C,{id:t,context:n,intents:s,icons:a,linkWord:i,linkWordIdx:r,quantifier:c,quantifierIdx:l,maxLength:o,maxLengthPerIntent:d})})}),E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),i(e),r(e)}))},W=document.getElementById("root").getAttribute("data-id"),M=document.getElementById("root").getAttribute("data-context"),A=document.getElementById("root").getAttribute("data-intents").split("|").map((function(e){return e.trim()})),U=document.getElementById("root").getAttribute("data-icons").split("|").map((function(e){return e.trim()})),L=document.getElementById("root").getAttribute("data-link-word"),T=parseInt(document.getElementById("root").getAttribute("data-link-word-idx")),D=document.getElementById("root").getAttribute("data-quantifier"),V=parseInt(document.getElementById("root").getAttribute("data-quantifier-idx")),P=parseInt(document.getElementById("root").getAttribute("data-max-length")),H=parseInt(document.getElementById("root").getAttribute("data-max-length-per-intent"));console.log("context",document.getElementById("root").getAttribute("data-context")),console.log("intents",document.getElementById("root").getAttribute("data-intents")),console.log("icons",document.getElementById("root").getAttribute("data-icons")),r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(q,{id:W,context:M,intents:A,icons:U,linkWord:L,linkWordIdx:T,quantifier:D,quantifierIdx:V,maxLength:P,maxLengthPerIntent:H})}),document.getElementById("root")),E()}},[[33,1,2]]]);
//# sourceMappingURL=main.02fd574f.chunk.js.map