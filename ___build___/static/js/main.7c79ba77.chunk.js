(this.webpackJsonpmturk=this.webpackJsonpmturk||[]).push([[0],{41:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),i=n(14),a=n.n(i),l=(n(39),n(40),n(41),n(4)),r=n(5),o=n(3),d=n(7),h=n(6),j=n(33),b=(n(43),n(0)),m=function(e){e.onClickExample;var t=e.onClickSkip;return Object(b.jsx)("div",{className:"home",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("div",{className:"vertical-center-container",children:Object(b.jsxs)("div",{className:"vertical-center jumbotron",children:[Object(b.jsx)("h1",{children:"Rewrite to a single sentence"}),Object(b.jsx)("p",{children:"Your goal in this task is to rewrite a series of distinct virtual assistance tasks in a single sentence"})]})})}),Object(b.jsxs)("div",{className:"col-6",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col",children:[Object(b.jsxs)("div",{className:"text-center example-text",children:[Object(b.jsx)("i",{className:"bi bi-robot"}),"Virtual assistance tasks"]}),Object(b.jsxs)("div",{className:"intents",children:[Object(b.jsxs)("li",{className:"intent",children:[Object(b.jsx)("span",{className:"intent-icon bi bi-bookmark"}),Object(b.jsx)("span",{children:"Create a reminder to bring a hat"})]}),Object(b.jsxs)("li",{className:"intent",children:[Object(b.jsx)("span",{className:"intent-icon bi bi-cloud-sun"}),Object(b.jsx)("span",{children:"Will it rain tomorrow"})]})]})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("div",{className:"text-center example-text",children:"rewritten in a single sentence"})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h3",{className:"text-center",children:Object(b.jsx)("span",{className:"intent-icon bi bi-stars"})})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("div",{className:"example vertical-center-container",children:Object(b.jsx)("div",{className:"vertical-center",children:Object(b.jsx)("div",{className:"intent-textarea text-center",children:Object(b.jsx)(j.a,{steps:["If it rains tomorrow then remind me to bring a coat",5e3],loop:1/0,wrapper:"p"})})})})})})})]})})})]})]}),Object(b.jsx)("div",{className:"row mb-3",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("div",{className:"mt-4 d-grid gap-2 d-sm-flex justify-content-sm-center",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4",onClick:t,children:"Start"})})})})]})})},x=(n(45),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClickBack,n=e.onClickNext;return Object(b.jsx)("div",{className:"instructions help",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row mb-5",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("h1",{children:"Instructions"})})}),Object(b.jsxs)("div",{className:"row mb-5",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"instruction",children:[Object(b.jsx)("h3",{children:"Virtual assistance tasks"}),Object(b.jsx)("p",{className:"instruction body",children:"We will present you with a series of virtual assistance tasks. You will be asked to rewrite these tasks to a single sentence."})]})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("div",{className:"vertical-center-container",children:Object(b.jsx)("div",{className:"vertical-center",children:Object(b.jsxs)("ol",{className:"intents",children:[Object(b.jsx)("li",{className:"intent",children:"Will it snow today"}),Object(b.jsx)("li",{className:"intent",children:"Set a daily reminder at 6am to exercise"}),Object(b.jsx)("li",{className:"intent",children:"cancel my alarm"})]})})})})]}),Object(b.jsxs)("div",{className:"row mb-5",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"instruction",children:[Object(b.jsx)("h3",{children:"Use conjunction words"}),Object(b.jsx)("p",{className:"instruction body",children:"To connect the tasks together, it is required to use at least 1 of the following conjunction words. In addition, you may use the same word multiple times, or synonym and antonym words."})]})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("div",{className:"vertical-center-container",children:Object(b.jsx)("div",{className:"vertical-center",children:Object(b.jsxs)("div",{className:"words",children:[Object(b.jsx)("span",{className:"word",children:"if"}),Object(b.jsx)("span",{className:"word",children:"unless"}),Object(b.jsx)("span",{className:"word",children:"in the event"})]})})})})]}),Object(b.jsxs)("div",{className:"row mb-5",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"instruction",children:[Object(b.jsx)("h3",{children:"Rewrite the tasks to a single coherent sentence"}),Object(b.jsxs)("p",{children:["Please use ",Object(b.jsx)("span",{className:"purple",children:"every listed task at least once"}),". The new sentence should ",Object(b.jsx)("span",{className:"purple",children:"make sense"})," as much as possible."]}),Object(b.jsxs)("p",{children:["In the new sentence, the different tasks should be related to one another, it will likely require you to ",Object(b.jsx)("span",{className:"purple",children:"change the wording or even some details"})," in the original tasks. We encourage you to change the details such that the newly rewritten tasks will ",Object(b.jsx)("span",{className:"purple",children:"share the same details"})," (e.g., location, time, names, etc). The new sentence should ",Object(b.jsx)("span",{className:"purple",children:"make sense"})," as much as possible."]}),Object(b.jsxs)("p",{children:["The new sentence is also required to be ",Object(b.jsx)("span",{className:"purple",children:"panctuated"})," and ",Object(b.jsx)("span",{className:"purple",children:"grammatically correct"})," (even if the original tasks showed poor grammar)."]})]})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("div",{className:"vertical-center-container",children:Object(b.jsx)("div",{className:"vertical-center",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h3",{className:"text-center",children:Object(b.jsx)("span",{className:"intent-icon bi bi-keyboard"})})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"intent-textarea",children:["If ",Object(b.jsx)("span",{className:"highlight",children:"it snows today"})," then ",Object(b.jsx)("span",{className:"highlight",children:"cancel my alarm"}),", or else",Object(b.jsx)("span",{className:"highlight",children:"set a daily reminder at 6am to exercise"}),"."]})})})})]})})})})]}),Object(b.jsxs)("div",{className:"row mb-5",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"instruction",children:[Object(b.jsx)("h3",{children:"A better example"}),Object(b.jsx)("p",{className:"instruction body",children:"Not only this example uses all the tasks. Some tasks are used more than once and the details of the extra task were changed such that the newly rewritten sentence makes more sense (exercising if it is sunny)."})]})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("div",{className:"vertical-center-container",children:Object(b.jsx)("div",{className:"vertical-center",children:Object(b.jsxs)("div",{className:"card good-example",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h3",{className:"text-center",children:Object(b.jsx)("span",{className:"intent-icon bi bi-emoji-sunglasses"})})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"intent-textarea",children:["If ",Object(b.jsx)("span",{className:"highlight",children:"it snows today"})," then ",Object(b.jsx)("span",{className:"highlight",children:"cancel my alarm"}),", if ",Object(b.jsx)("span",{className:"highlight",children:"it is sunny tomorrow"}),", ",Object(b.jsx)("span",{className:"highlight",children:"set a daily reminder at 6am to exercise"}),"."]})})})})]})})})})]}),Object(b.jsxs)("div",{className:"row mb-5",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"instruction",children:[Object(b.jsx)("h3",{children:"A bad example"}),Object(b.jsx)("p",{children:"This example demonstrates what can go wrong:"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"It does not use all of the above tasks"}),Object(b.jsx)("li",{children:"None of the conjunction words are included"}),Object(b.jsx)("li",{children:"Avoid greetings and politeness"}),Object(b.jsx)("li",{children:"The newly rewritten sentence is not coherent, doesn't use panctuations, and just doesn't sound right."})]})]})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("div",{className:"vertical-center-container",children:Object(b.jsx)("div",{className:"vertical-center",children:Object(b.jsxs)("div",{className:"card bad-example",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h3",{className:"text-center",children:Object(b.jsx)("span",{className:"intent-icon bi bi-emoji-frown"})})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"intent-textarea",children:["Hello, How are you? ",Object(b.jsx)("span",{className:"highlight",children:"When does the rally start?"}),Object(b.jsx)("span",{className:"highlight",children:"set a daily reminder at 6am to exercise"}),"Thank you."]})})})})]})})})})]}),Object(b.jsxs)("div",{className:"row mb-5",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"instruction",children:[Object(b.jsx)("h3",{children:"We are not perfect"}),Object(b.jsx)("p",{className:"instruction body",children:"In some cases the given virtual assistance tasks will not make sense to be conjoint together. In these cases we encourage you to change the details of one or more of the tasks such that the new sentence will look and sound right. Do this while preserving the general notion of the original task (e.g., send a message)."})]})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("div",{className:"vertical-center-container",children:Object(b.jsxs)("div",{className:"example",children:[Object(b.jsxs)("ol",{className:"intents",children:[Object(b.jsx)("li",{className:"intent",children:"Tell me how long until I get to Tennessee"}),Object(b.jsx)("li",{className:"intent",children:"text austin no"})]}),Object(b.jsxs)("div",{className:"card neutral-example",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h3",{className:"text-center",children:Object(b.jsx)("span",{className:"intent-icon bi bi-emoji-wink"})})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("p",{className:"intent-textarea",children:["If ",Object(b.jsx)("span",{className:"highlight",children:"it will take more than an hour until I get to Tennessee"})," then ",Object(b.jsx)("span",{className:"highlight",children:"text Austin that I will be late"}),"."]})})})})]})]})})})]}),t&&n&&Object(b.jsx)("div",{className:"row mb-3",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"mt-4 d-grid gap-2 d-sm-flex justify-content-sm-center",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:t,children:Object(b.jsx)("i",{className:"bi bi-chevron-left"})}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4",onClick:n,children:Object(b.jsx)("i",{className:"bi bi-chevron-right"})})]})})})]})})}}]),n}(c.a.Component)),u=n(2),O=n(19),p=n(56),v=function(e){return Object(b.jsxs)(O.a,Object(u.a)(Object(u.a)({},e),{},{size:"xl","aria-labelledby":"contained-modal-title-vcenter",animation:!1,centered:!0,children:[Object(b.jsx)(O.a.Header,{children:Object(b.jsx)(O.a.Title,{id:"contained-modal-title-vcenter",children:Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)("i",{className:"bi bi-life-preserver"})})})}),Object(b.jsx)(O.a.Body,{children:Object(b.jsx)("div",{children:e.children})}),Object(b.jsx)(O.a.Footer,{children:Object(b.jsx)(p.a,{onClick:e.onHide,children:"Close"})})]}))},N=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.onHide,s=e.children;return Object(b.jsx)("div",{className:"help",children:Object(b.jsx)(v,{show:t,onHide:n,children:s})})}}]),n}(c.a.Component),g=(n(48),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;Object(l.a)(this,n),s=t.call(this,e);var c=e.utterance,i=e.context,a=e.contexts;return s.state={utterance:c,context:i||s.getRandomContext(a)},s.handleClickNext=s.handleClickNext.bind(Object(o.a)(s)),s.handleClickHelp=s.handleClickHelp.bind(Object(o.a)(s)),s.handleTextAreaChange=s.handleTextAreaChange.bind(Object(o.a)(s)),s.handleSwitchContextClick=s.handleSwitchContextClick.bind(Object(o.a)(s)),s}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(e,t){if(e.utterance!==this.props.utterance){var n=this.props.utterance;this.setState({utterance:n})}}},{key:"handleTextAreaChange",value:function(e){var t=this.props,n=t.utteranceLimit,s=t.disableTextOverflow,c=t.onUtteranceChange,i=this.state.context,a=e.target.value,l=!s||a.length<=n?a:this.state.utterance||"";this.setState({utterance:l}),c&&c(a,i)}},{key:"handleSwitchContextClick",value:function(){var e=this.props.contexts,t=this.getRandomContext(e);this.setState({context:t})}},{key:"getRandomContext",value:function(e){var t=e[Math.floor(Math.random()*e.length)],n=this.props.onContextChange;return n&&n(t),t}},{key:"isUtteranceValid",value:function(){var e=this.props,t=(e.intents,e.words),n=this.state.utterance,s=t.reduce((function(e,t){return e.concat(t.verification||[t.display])}),[]),c=n&&s&&s.length>0&&s.filter((function(e){return-1!==n.toLowerCase().indexOf(e.trim().toLowerCase())}))||[];return!n||n.split(" ").length<=2?(this.setState({valid:!1,errorMessage:Object(b.jsx)("span",{children:"Please be more creative."})}),!1):0===c.length?(this.setState({valid:!1,errorMessage:Object(b.jsxs)("span",{children:["Please use at least 1 of the following word: ",Object(b.jsx)("strong",{children:t.map((function(e){return e.display})).join(", ")}),"."]})}),!1):n.indexOf("?")>=0&&n.indexOf("?")<.5*n.length||n.trim().split("?").filter((function(e){return e.length>0})).length>1?(this.setState({valid:!1,errorMessage:Object(b.jsxs)("span",{children:["Please try to phrase the utterance as a ",Object(b.jsx)("strong",{children:"single"})," request (and not in multiple phrases)."]})}),!1):(this.setState({valid:!0}),!0)}},{key:"handleClickNext",value:function(e){e.preventDefault(),this.isUtteranceValid()&&this.props.onClickNext()}},{key:"handleClickHelp",value:function(e){this.setState({showHelp:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.utteranceLimit,s=t.minWords,c=(t.minIntents,t.minConstraints,t.intents),i=(t.constraintIntents,t.icons),a=(t.constraintIcons,t.words),l=t.onClickBack,r=(t.onClickHelp,this.state),o=r.utterance,d=r.valid,h=r.errorMessage,j=r.showHelp;return j?Object(b.jsx)(N,{show:j,onHide:function(){return e.setState({showHelp:!1})},children:Object(b.jsx)(x,{})}):Object(b.jsxs)("div",{className:"utterance px-4 py-5 my-5",children:[Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row mb-3",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("h1",{className:"instruction header",children:"Rewrite tasks in a single sentence"})})}),Object(b.jsx)("div",{className:"row mb-3",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"bd-callout intents-container",children:[Object(b.jsx)("p",{children:Object(b.jsx)("span",{className:"instruction body",children:"Rewrite all the following tasks in a single sentence. You can change the original wording and details of the tasks to express a clear and coherent writing that makes sense."})}),Object(b.jsx)("ol",{className:"intents",children:c.map((function(e,t){return Object(b.jsxs)("li",{className:"intent","data-idx":t,children:[Object(b.jsx)("span",{className:"intent-icon bi bi-".concat(i[t])}),Object(b.jsx)("span",{children:e})]},t)}))}),Object(b.jsx)("div",{className:"info text-center",children:Object(b.jsx)("div",{children:"You are required to use each of the tasks at least once in your rewritten sentence."})})]})})}),a&&a.length>0&&Object(b.jsx)("div",{className:"row mb-3",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"bd-callout bd-callout-yellow2",children:[Object(b.jsx)("p",{children:Object(b.jsxs)("span",{className:"instruction body",children:["In your rewritten sentence, connect the above tasks using ",Object(b.jsxs)("span",{className:"purple",children:[s||1," or more"]})," of the following conjunction words:"]})}),Object(b.jsx)("div",{className:"words pl-1 pr-1",children:a&&a.map((function(e,t){return Object(b.jsx)("span",{className:"word",children:e.display},t)}))}),Object(b.jsx)("div",{className:"info text-center",children:Object(b.jsx)("div",{children:"You may use the same word multiple times, or synonym and antonym words."})})]})})}),Object(b.jsx)("div",{className:"row mt-3 mb-3",children:Object(b.jsxs)("div",{className:"col",children:[Object(b.jsxs)("div",{className:"card mt-4",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsxs)("h3",{className:"text-center",children:[Object(b.jsx)("span",{className:"intent-icon bi bi-keyboard"}),"Rewrite here"]})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("form",{className:"g-3 needs-validation pt-1",onSubmit:this.handleSubmit,noValidate:!0,children:Object(b.jsxs)("div",{className:"has-validation",children:[Object(b.jsx)("label",{className:"form-label",style:{display:"none"},children:"Write an utterance"}),Object(b.jsx)("textarea",{className:"intent-textarea form-control mb-3 ".concat(!0===d?"is-valid":!1===d&&"is-invalid"),rows:"5",value:o,type:"text",id:"utterance","aria-describedby":"help",onChange:this.handleTextAreaChange,placeholder:"Type your new sentence here...",required:!0}),Object(b.jsxs)("div",{className:"p-1 m-1",children:[Object(b.jsx)("span",{className:(o||"").length>=n?"text-danger":"",children:(o||"").length})," / ",n]}),Object(b.jsx)("div",{className:"invalid-feedback",children:h})]})})})})})]}),Object(b.jsx)("div",{className:"info text-center",children:Object(b.jsx)("div",{children:"Remember: great sentences share some details between the rewritten tasks (e.g., time, place)."})})]})}),Object(b.jsx)("div",{className:"row mb-3",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"actions bottom mt-4 d-grid gap-2 d-sm-flex justify-content-sm-center",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:l,children:Object(b.jsx)("i",{className:"bi bi-chevron-left"})}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4",onClick:this.handleClickNext,children:Object(b.jsx)("i",{className:"bi bi-chevron-right"})})]})})})]}),Object(b.jsx)("div",{className:"actions float",children:Object(b.jsxs)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:this.handleClickHelp,children:[Object(b.jsx)("i",{className:"bi bi-life-preserver"}),"Help"]})})]})}}]),n}(c.a.Component)),k=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClickBack,n=e.onClickNext;return Object(b.jsx)("div",{className:"verification help",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"instruction",children:[Object(b.jsx)("h3",{children:"Highlight the task"}),Object(b.jsx)("p",{className:"instruction body",children:"You were instructed to use each task at least once but also given the freedome to use every task more than once. Please help us know exactly how many times you used each task in your new sentence. We present a counter next to each task - use it to indicate the number of times each task was used."}),Object(b.jsxs)("p",{children:["In this example, we use the virtual assistance task for ",Object(b.jsx)("span",{className:"text-red",children:"querying the weather"})," twice, and every other task is used once."]})]})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("div",{className:"vertical-center-container",children:Object(b.jsxs)("div",{className:"vertical-center",children:[Object(b.jsxs)("div",{className:"intents",children:[Object(b.jsxs)("div",{className:"intent",children:[Object(b.jsxs)("span",{className:"text-red",children:[Object(b.jsx)("span",{className:"intent-icon bi bi-cloud-sun"}),"Will it snow today"]}),Object(b.jsx)("span",{className:"counter bi bi-x",children:"2"})]}),Object(b.jsxs)("div",{className:"intent",children:[Object(b.jsxs)("span",{className:"text-blue",children:[Object(b.jsx)("span",{className:"intent-icon bi bi-bookmark"}),"Set a daily reminder at 6am to exercise"]}),Object(b.jsx)("span",{className:"counter bi bi-x",children:"1"})]}),Object(b.jsxs)("div",{className:"intent",children:[Object(b.jsxs)("span",{className:"text-green",children:[Object(b.jsx)("span",{className:"intent-icon bi bi-alarm"}),"cancel my alarm"]}),Object(b.jsx)("span",{className:"counter bi bi-x",children:"1"})]})]}),Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h3",{className:"text-center",children:Object(b.jsx)("span",{className:"intent-icon bi bi-toggles"})})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"intent-textarea",children:["If ",Object(b.jsx)("span",{className:"highlight text-red",children:"it snows today"})," then ",Object(b.jsx)("span",{className:"highlight text-green",children:"cancel my alarm"}),", if ",Object(b.jsx)("span",{className:"highlight text-red",children:"it is sunny"})," ",Object(b.jsxs)("span",{className:"highlight text-blue",children:["set a daily reminder at 6am to exercise",Object(b.jsx)("span",{className:"index",children:"(2)"})]}),"."]})})})})]})]})})})]}),t&&n&&Object(b.jsx)("div",{className:"row mb-3",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"mt-4 d-grid gap-2 d-sm-flex justify-content-sm-center",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:t,children:Object(b.jsx)("i",{className:"bi bi-chevron-left"})}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4",onClick:n,children:Object(b.jsx)("i",{className:"bi bi-check-lg"})})]})})})]})})}}]),n}(c.a.Component),f=(n(49),1),y=2,C=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;Object(l.a)(this,n),s=t.call(this,e);var c=e.utterance,i=e.step,a=e.constraintIntents,r=e.selectedIntents,d=e.selectedConstraints;return s.state={utterance:c,selectedIntents:r||[],selectedConstraints:d||[],step:i||a.length>0&&r&&r.length>0&&y||f},s.handleClickNext=s.handleClickNext.bind(Object(o.a)(s)),s.handleClickBack=s.handleClickBack.bind(Object(o.a)(s)),s.handleClickHelp=s.handleClickHelp.bind(Object(o.a)(s)),s.handleDecrementCounter=s.handleDecrementCounter.bind(Object(o.a)(s)),s.handleIncrementCounter=s.handleIncrementCounter.bind(Object(o.a)(s)),s}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(e,t){if(e.utterance!==this.props.utterance){var n=this.props.utterance;this.setState({utterance:n})}}},{key:"handleDecrementCounter",value:function(e){e.preventDefault();var t=this.props,n=t.onSelectIntent,s=t.onSelectConstraint,c=this.state,i=c.step,a=c.selectedIntents,l=c.selectedConstraints,r=parseInt(e.currentTarget.getAttribute("data-index"));if(i===f){var o=a.indexOf(r);-1!==o&&(a.splice(o,1),n(a))}else{var d=l.indexOf(r);-1!==d&&(l.splice(d,1),s(l))}}},{key:"handleIncrementCounter",value:function(e){e.preventDefault();var t=this.props,n=t.onSelectIntent,s=t.onSelectConstraint,c=this.state,i=c.step,a=c.selectedIntents,l=c.selectedConstraints,r=parseInt(e.currentTarget.getAttribute("data-index"));i===f?(a.push(r),n(a)):(l.push(r),s(l))}},{key:"handleClickNext",value:function(e){e.preventDefault();var t=this.props,n=t.constraintIntents,s=(t.minIntents,t.minConstraints),c=t.onClickNext,i=this.state.step,a=this.isValid();if(a&&i===f&&n.length>0)this.setState({step:y,valid:a,errorMessage:null});else if(a)c();else{var l=i===f?"You have to select every tasks at least once. Click back if you need to update your utterance":"You have to select at least ".concat(s," constraints. Click back if you need to update your utterance");this.setState({valid:a,errorMessage:l})}}},{key:"handleClickBack",value:function(e){e.preventDefault();var t=this.props.constraintIntents;this.state.step===y||t&&t.length>0?this.setState({step:f}):(0,this.props.onClickBack)()}},{key:"handleClickHelp",value:function(e){e.preventDefault(),this.setState({showHelp:!0})}},{key:"isValid",value:function(){var e=this.props,t=e.intents,n=e.minIntents,s=e.minConstraints,c=this.state,i=c.step,a=c.selectedIntents,l=c.selectedConstraints;if(i===f){var r=a&&a.length>=n;return r=r&&t.every((function(e,t){return a.indexOf(t)>=0}))}return i===y&&(l&&l.length>=s)}},{key:"getInstruction",value:function(){var e=this.props,t=(e.minIntents,e.minConstraints,this.state.step),n=t===f?"Please select the virtual assitance's tasks you used in your utterance":"Please select the virtual assitance's inquiries you used as constraints in your utterance";return Object(b.jsxs)("span",{children:[Object(b.jsx)("span",{className:"",children:n}),Object(b.jsx)("span",{className:"",children:" (You had to use every task. In addition, you are also allowed to use the same one more than once)"}),Object(b.jsx)("span",{className:"",children:":"})]})}},{key:"render",value:function(){var e=this,t=this.props,n=t.intents,s=t.icons,c=t.constraintIntents,i=t.constraintIcons,a=(t.onClickHelp,this.state),l=a.utterance,r=a.errorMessage,o=a.selectedIntents,d=a.selectedConstraints,h=a.step,j=a.showHelp,m=this.isValid(),x=(this.getInstruction(),h===f?n:c),u=new Array(n.length).fill(0).map((function(e,t){return o.filter((function(e){return e===t})).length})),O=new Array((c||[]).length).fill(0).map((function(e,t){return d.filter((function(e){return e===t})).length})),p=h===f?u:O,v=h===f?s:i;return j?Object(b.jsx)(N,{show:j,onHide:function(){return e.setState({showHelp:!1})},children:Object(b.jsx)(k,{})}):Object(b.jsxs)("div",{className:"verification",children:[Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col",children:[Object(b.jsxs)("div",{className:"instructions-text",children:[Object(b.jsx)("h1",{children:"Please indicate how many times you used each virtual assitance task in your new sentence"}),Object(b.jsx)("p",{children:"Reminder: In your rewritten sentence you can use some of the tasks multiple times."})]}),Object(b.jsx)("div",{className:"user-utterance intent text-center",children:Object(b.jsxs)("p",{children:['"',l,'"']})})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"card mt-4",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h3",{className:"text-center",children:Object(b.jsx)("span",{className:"intent-icon bi bi-toggles"})})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("div",{className:"tasks-verification row mb-3",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("div",{className:"row mb-3",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"bd-callout",children:[x.map((function(t,n){return Object(b.jsxs)("div",{className:"form-check pt-1 pb-1 mt-1 mb-1 intent selection ".concat(p[n]>0?"selected":""),"data-index":n,children:[Object(b.jsx)("div",{className:"counter-form",children:Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("span",{className:"input-group-btn",children:Object(b.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-number",disabled:0===p[n],"data-type":"minus","data-index":n,onClick:e.handleDecrementCounter,children:Object(b.jsx)("span",{className:"bi bi-dash"})})}),Object(b.jsx)("input",{type:"text",name:"quant[1]",className:"form-control input-number",value:p[n],min:"1",max:"10",readOnly:!0}),Object(b.jsx)("span",{className:"input-group-btn",children:Object(b.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-number","data-type":"plus","data-index":n,onClick:e.handleIncrementCounter,children:Object(b.jsx)("span",{className:"bi bi-plus"})})})]})}),Object(b.jsx)("div",{className:"label form-check-label",htmlFor:"flexCheckDefault",children:Object(b.jsxs)("div",{className:"intent",children:[Object(b.jsx)("span",{className:"intent-icon bi bi-".concat(v[n])}),t]})})]},n)})),!m&&Object(b.jsx)("div",{className:"error-messasge text-danger",children:r})]})})})})})})]})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"mt-4 d-grid gap-2 d-sm-flex justify-content-sm-center",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:this.handleClickBack,children:Object(b.jsx)("i",{className:"bi bi-chevron-left"})}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4",onClick:this.handleClickNext,children:Object(b.jsx)("i",{className:"bi bi-chevron-right"})})]})})})]}),Object(b.jsx)("div",{className:"actions float",children:Object(b.jsxs)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:this.handleClickHelp,children:[Object(b.jsx)("i",{className:"bi bi-life-preserver"}),"Help"]})})]})}}]),n}(c.a.Component),w=n(11),S=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClickBack,n=e.onClickNext;return Object(b.jsx)("div",{className:"selections help",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"instruction",children:[Object(b.jsx)("h3",{children:"Highlight the task"}),Object(b.jsx)("p",{className:"instruction body",children:"You are requested to highlight using your mouse the part in your sentence that corresponds with the displayed task. It is likely that you've change the wording or details of the original task - choose the rewritten task in your sentence that stems from that task."})]})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("div",{className:"vertical-center-container",children:Object(b.jsx)("div",{className:"vertical-center",children:Object(b.jsxs)("ol",{className:"intents",children:[Object(b.jsx)("li",{className:"intent text-red",children:"Will it snow today"}),Object(b.jsx)("li",{className:"intent text-blue",children:"Set a daily reminder at 6am to exercise"}),Object(b.jsx)("li",{className:"intent text-green",children:"cancel my alarm"})]})})})})]}),Object(b.jsxs)("div",{className:"row mb-5",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"help-instructions",children:[Object(b.jsx)("h5",{children:"House rules:"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"Selections are not allowed to overlap one another (don't worry we will show you your previous selections)"}),Object(b.jsx)("li",{children:"If you need to adjust your current selection then just try it again"}),Object(b.jsx)("li",{children:"Don't inclulde conjunction words or panctuation marks in your selection"}),Object(b.jsx)("li",{children:"That's the final step, so shout out to you for completing the task"})]})]})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("div",{className:"vertical-center-container",children:Object(b.jsx)("div",{className:"vertical-center",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h3",{className:"text-center",children:Object(b.jsx)("span",{className:"intent-icon bi bi-mouse2"})})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"intent-textarea",children:["If ",Object(b.jsxs)("span",{className:"highlight text-red",children:["it snows today",Object(b.jsx)("span",{className:"index",children:"(1)"})]})," then ",Object(b.jsxs)("span",{className:"highlight text-green",children:["cancel my alarm",Object(b.jsx)("span",{className:"index",children:"(3)"})]}),", otherwise",Object(b.jsxs)("span",{className:"highlight text-blue",children:["set a daily reminder at 6am to exercise",Object(b.jsx)("span",{className:"index",children:"(2)"})]}),"."]})})})})]})})})})]}),t&&n&&Object(b.jsx)("div",{className:"row mb-3",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"mt-4 d-grid gap-2 d-sm-flex justify-content-sm-center",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:t,children:Object(b.jsx)("i",{className:"bi bi-chevron-left"})}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4",onClick:n,children:Object(b.jsx)("i",{className:"bi bi-check-lg"})})]})})})]})})}}]),n}(c.a.Component),I=(n(50),"intents"),H="constraints",B=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;Object(l.a)(this,n),s=t.call(this,e);var c=e.index,i=e.step,a=e.intentsSelections,r=e.constraintsSelections,d=e.selectedIntents,h=e.selectedConstraints;return s.state={index:isNaN(c)?0:-1!==c?c:i===H?h.length-1:d.length-1,step:i,intentsSelections:a||[],constraintsSelections:r||[]},s.handleClickNext=s.handleClickNext.bind(Object(o.a)(s)),s.handleClickBack=s.handleClickBack.bind(Object(o.a)(s)),s.handleClickHelp=s.handleClickHelp.bind(Object(o.a)(s)),s.handleMouseUp=s.handleMouseUp.bind(Object(o.a)(s)),s}return Object(r.a)(n,[{key:"handleMouseUp",value:function(e){var t=this.state,n=t.index,s=t.step,c=t.intentsSelections,i=t.constraintsSelections,a=this.getSelection(),l=a.selectionStart,r=a.selectionEnd;this.isSelectionValid({selectionStart:l,selectionEnd:r})?(s===I?c[n]=[l,r]:i[n]=[l,r],this.setState({intentsSelections:c,constraintsSelections:i,errorMessage:null}),this.props.onSelection(c,i,n)):this.setState({errorMessage:"Please select the part in your utterance that corresponds with the ".concat(s===I?"task":"query",". Your selections cannot overlap other selections")})}},{key:"handleClickNext",value:function(e){e.preventDefault();var t=this.props,n=t.selectedIntents,s=t.selectedConstraints,c=this.state,i=c.index,a=c.step,l=c.intentsSelections,r=c.constraintsSelections;if(a===I&&!l[i]||a===H&&!r[i])this.setState({errorMessage:"Did you forget to select the part in your utterance that corresponds with the ".concat(a===I?"task":"query","?")});else{var o=i+1;a===I&&o<n.length||a===H&&o<s.length?this.setState({index:o}):s&&s.length>0&&a===I?this.setState({step:H,index:0}):this.props.onClickNext()}}},{key:"handleClickBack",value:function(e){e.preventDefault();var t=this.props.selectedIntents,n=this.state,s=n.index,c=n.step,i=s-1;c===I&&i>=0||c===H&&i>=0?this.setState({index:i}):c===H?this.setState({step:I,index:t.length-1}):this.props.onClickBack()}},{key:"handleClickHelp",value:function(e){e.preventDefault(),this.setState({showHelp:!0})}},{key:"getSelection",value:function(){var e=this.props.utterance,t=window.getSelection(),n=t.baseOffset,s=t.extentOffset;t.baseNode!==t.extentNode&&(s+=t.baseNode.textContent.length);for(var c=t.baseNode.parentNode,i=c.innerHTML===e?null:c.parentNode;i;){for(var a=i.childNodes[i.childNodes.length-1],l=0;l<i.childNodes.length;l++){i.childNodes[l]===c&&(a=c.previousSibling)}for(;a;)n+=a.textContent.length,s+=a.textContent.length,a=a.previousSibling;i=i.previousSibling}return{selectionStart:n,selectionEnd:s}}},{key:"isSelectionValid",value:function(e){var t=!1,n=this.props,s=n.selectedIntents,c=n.selectedConstraints,i=this.state,a=i.index,l=i.step,r=i.intentsSelections,o=i.constraintsSelections,d=e.selectionStart,h=e.selectionEnd,j=d>=0&&h>d&&h-d>1,b=!s||0===s.length||r.reduce((function(e,t,n){return e&&(!t||l===I&&a===n||d>=t[1]||h<=t[0])}),!0),m=!c||0===c.length||o.reduce((function(e,t,n){return e&&(!t||l===H&&a===n||d>=t[1]||h<=t[0])}),!0);return t=t||j&&b&&m}},{key:"render",value:function(){var e=this,t=this.props,n=t.utterance,s=t.intents,c=t.constraintIntents,i=t.selectedIntents,a=t.selectedConstraints,l=t.icons,r=t.constraintIcons,o=(t.onClickHelp,this.state),d=o.index,h=o.step,j=o.intentsSelections,m=o.constraintsSelections,x=o.errorMessage,u=o.showHelp;a=a||[];var O=h===I?i.length:a.length,p=h===I?s[i[d]]:c[a[d]],v=d<l.length?l[i[d]]:r[a[d]],g=h===I?j[d]?j[d]:[null,null]:m[d]?m[d]:[null,null],k=Object(w.a)(g,2),f=k[0],y=k[1],C=f>=0&&y<=n.length&&y>f?n.substring(f,y):"",H=j.map((function(e,t){return[e,"intent",t]})).concat(m.map((function(e){return[e,"constraint"]}))).filter((function(e){return!!e})).sort();return u?Object(b.jsx)(N,{show:u,onHide:function(){return e.setState({showHelp:!1})},children:Object(b.jsx)(S,{})}):Object(b.jsxs)("div",{className:"selections",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"instructions-text",children:[Object(b.jsx)("h1",{children:"Highligh text in your sentence"}),Object(b.jsxs)("p",{className:!0,children:["Highlight, with your mouse, the part of text in your sentence that references the following task (",d+1," / ",O,"):"]}),Object(b.jsxs)("div",{className:"required-intent text-center",children:[Object(b.jsx)("span",{className:"intent-icon bi bi-".concat(v)}),p]})]})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"card mt-4",children:[Object(b.jsx)("div",{className:"card-header text-center",children:Object(b.jsx)("h3",{className:"text-center",children:Object(b.jsx)("span",{className:"intent-icon bi bi-mouse2"})})}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("div",{className:"row mb-3",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("div",{className:"selection-area",children:Object(b.jsx)("div",{className:"form-control p-3 user-utterance",id:"utterance-selection",onMouseUp:this.handleMouseUp,children:H.length>0?H.map((function(e,t){var s=Object(w.a)(e,3),c=s[0],i=s[1],a=s[2];return Object(b.jsxs)("span",{children:[0===t&&Object(b.jsx)("span",{children:n.substring(0,c[0])}),Object(b.jsx)("span",{className:"highlight ".concat(i," ").concat(d===a&&"current"),children:n.substring(c[0],c[1])}),Object(b.jsx)("span",{children:n.substring(c[1],t+1<H.length?H[t+1][0][0]:n.length)})]},t)})):n})})})}),Object(b.jsx)("div",{className:"row selection mb-3",children:Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("span",{className:"selection-head",children:"You selected:"}),C&&Object(b.jsx)("span",{className:"selection-text",children:C})]})}),x&&Object(b.jsx)("div",{className:"row selection mb-3",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("div",{className:"text-red",children:x})})})]})]})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"actions mt-4 d-grid gap-2 d-sm-flex justify-content-sm-center",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:this.handleClickBack,children:Object(b.jsx)("i",{className:"bi bi-chevron-left"})}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4",onClick:this.handleClickNext,children:Object(b.jsx)("i",{className:"bi bi-chevron-right"})})]})})}),Object(b.jsx)("div",{className:"actions float",children:Object(b.jsxs)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:this.handleClickHelp,children:[Object(b.jsx)("i",{className:"bi bi-life-preserver"}),"Help"]})})]})}}]),n}(c.a.Component),T=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleSubmit=s.handleSubmit.bind(Object(o.a)(s)),s.handleClickBack=s.handleClickBack.bind(Object(o.a)(s)),s}return Object(r.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit()}},{key:"handleClickBack",value:function(e){e.preventDefault(),this.props.onClickBack()}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"thank-you",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h2",{className:"text-muted text-center mb-3",children:"Thank You."}),Object(b.jsxs)("div",{className:"mt-4 d-grid gap-2 d-sm-flex justify-content-sm-center",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 gap-3",onClick:this.handleClickBack,children:Object(b.jsx)("i",{className:"bi bi-chevron-left"})}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4",onClick:this.handleSubmit,children:"Finish"})]})]})})}}]),n}(c.a.Component),D=(n(51),1),q=2,M=3,W=4,A=5,L=6,U=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;Object(l.a)(this,n),s=t.call(this,e);var c=e.intents,i=e.constraintIntents;return s.state={currentScreen:D,intentsSelections:c&&new Array(c.length),constraintsSelections:i&&new Array(i.length)},s.handleClickBack=s.handleClickBack.bind(Object(o.a)(s)),s.handleClickNext=s.handleClickNext.bind(Object(o.a)(s)),s.handleClickHelp=s.handleClickHelp.bind(Object(o.a)(s)),s.handleUtteranceChange=s.handleUtteranceChange.bind(Object(o.a)(s)),s.handleSelectIntent=s.handleSelectIntent.bind(Object(o.a)(s)),s.handleSelectConstraint=s.handleSelectConstraint.bind(Object(o.a)(s)),s.handleSelection=s.handleSelection.bind(Object(o.a)(s)),s}return Object(r.a)(n,[{key:"submitToMTurk",value:function(){var e=this.props,t=e.intents,n=e.constraintIntents,s=this.state,c=s.utterance,i=s.context,a=s.selectedIntents,l=s.selectedConstraints,r=s.intentsSelections,o=s.constraintsSelections,d=i,h=a&&a.map((function(e){return t[e]})).join(" | "),j=l&&l.map((function(e){return n[e]})).join(" | "),b=a&&a.map((function(e,t){return c.substring(r[t][0],r[t][1])})).join(" | "),m=l&&l.map((function(e,t){return c.substring(o[t][0],o[t][1])})).join(" | ");document.querySelector("crowd-form").onsubmit=function(){document.getElementById("utterance")&&(document.getElementById("context").value=d,document.getElementById("utterance").value=c,document.getElementById("intents").value=h,document.getElementById("constraints").value=j,document.getElementById("intents-annotations").value=b,document.getElementById("constraints-annotations").value=m)},document.querySelector("crowd-form").submit()}},{key:"handleClickNext",value:function(){var e=this.state.currentScreen;e===D?this.setState({currentScreen:q}):e===q?this.setState({currentScreen:M}):e===M?this.setState({currentScreen:A,verificationStep:f}):e===A?this.setState({currentScreen:W,selectionsStep:I,currentSelectionIndex:0}):e===W?this.setState({currentScreen:L}):e===L&&this.submitToMTurk(this.state),window.scrollTo(0,0)}},{key:"handleClickBack",value:function(){var e=this.state.currentScreen;e===q?this.setState({currentScreen:D}):e===M?this.setState({currentScreen:q}):e===A?this.setState({currentScreen:M}):e===W?this.setState({currentScreen:A,verificationStep:1}):e===L&&this.setState({currentScreen:W,selectionsStep:I,currentSelectionIndex:-1}),window.scrollTo(0,0)}},{key:"handleClickHelp",value:function(){this.setState({showHelp:!0})}},{key:"handleUtteranceChange",value:function(e,t){this.setState({utterance:e,context:t,intentsSelections:[],constraintsSelections:[]})}},{key:"handleSelectIntent",value:function(e){this.setState({selectedIntents:e,intentsSelections:[]})}},{key:"handleSelectConstraint",value:function(e){this.setState({selectedConstraints:e,constraintsSelections:[]})}},{key:"handleSelection",value:function(e,t,n){this.setState({intentsSelections:e,constraintsSelections:t,currentSelectionIndex:n})}},{key:"getDisplayedScreen",value:function(){var e=this.props,t=e.contexts,n=e.maxLength,s=e.maxLengthPerIntent,c=e.minIntents,i=e.minConstraints,a=e.intents,l=e.constraintIntents,r=e.icons,o=e.constraintIcons,d=e.conjunctionWords,h=e.minWords,j=this.state,u=j.currentScreen,O=j.utterance,p=j.context,v=j.selectedIntents,N=j.selectedConstraints,k=j.intentsSelections,f=j.constraintsSelections,y=j.selectionsStep,w=j.currentSelectionIndex,S=j.verificationStep,I=d,H=n||s*a.length||250;return u===D?Object(b.jsx)(m,{onClickExample:this.handleClickHelp,onClickSkip:this.handleClickNext}):u===q?Object(b.jsx)(x,{onClickBack:this.handleClickBack,onClickNext:this.handleClickNext}):u===M?Object(b.jsx)(g,{utterance:O,utteranceLimit:H,minIntents:c,minConstraints:i,intents:a,constraintIcons:o,constraintIntents:l,icons:r,words:I,minWords:h,contexts:t,context:p,onUtteranceChange:this.handleUtteranceChange,onClickBack:this.handleClickBack,onClickHelp:this.handleClickHelp,onClickNext:this.handleClickNext}):u===A?Object(b.jsx)(C,{utterance:O,step:S,minIntents:c,minConstraints:i,intents:a,constraintIntents:l,icons:r,constraintIcons:o,selectedIntents:v,selectedConstraints:N,onSelectIntent:this.handleSelectIntent,onSelectConstraint:this.handleSelectConstraint,onClickNext:this.handleClickNext,onClickBack:this.handleClickBack,onClickHelp:this.handleClickHelp}):u===W?Object(b.jsx)(B,{utterance:O,intents:a,constraintIntents:l,icons:r,constraintIcons:o,selectedIntents:v,selectedConstraints:N,intentsSelections:k,constraintsSelections:f,step:y,index:w,onSelection:this.handleSelection,onClickNext:this.handleClickNext,onClickBack:this.handleClickBack,onClickHelp:this.handleClickHelp}):u===L?Object(b.jsx)(T,{onSubmit:this.handleClickNext,onClickBack:this.handleClickBack}):void 0}},{key:"render",value:function(){this.state.showHelp;var e=this.getDisplayedScreen();return Object(b.jsx)("div",{className:"utterances",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("main",{children:e})})})}}]),n}(c.a.Component),E=(n(52),function(e){var t=e.id,n=e.context,s=e.contexts,c=e.intents,i=e.icons,a=e.minIntents,l=e.constraintIntents,r=e.constraintIcons,o=e.minConstraints,d=e.conjunctionWords,h=e.linkWordIdx,j=e.minWords,m=e.quantifiers,x=e.quantifierIdx,u=e.maxLength,O=e.maxLengthPerIntent;return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(U,{id:t,context:n,contexts:s,intents:c,icons:i,minIntents:a,constraintIntents:l,constraintIcons:r,minConstraints:o,conjunctionWords:d,linkWordIdx:h,minWords:j,quantifiers:m,quantifierIdx:x,maxLength:u,maxLengthPerIntent:O})})}),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),i(e),a(e)}))},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root";return document.getElementById(t).getAttribute(e)},R=Y("data-id"),V=Y("data-context"),F=Y("data-contexts")?Y("data-contexts").split("|").map((function(e){return e.trim()})):[],J=Y("data-intents")?Y("data-intents").split("|").filter((function(e){return e&&e.length>0})).map((function(e){return e.trim()})):[],z=Y("data-intent-icons")?Y("data-intent-icons").split("|").filter((function(e){return e&&e.length>0})).map((function(e){return e.trim()})):[],G=Y("data-min-intents")&&parseInt(Y("data-min-intents")),K=Y("data-constraints")?Y("data-constraints").split("|").filter((function(e){return e&&e.length>0})).map((function(e){return e.trim()})):[],Q=Y("data-constraint-icons")?Y("data-constraint-icons").split("|").filter((function(e){return e&&e.length>0})).map((function(e){return e.trim()})):[],X=Y("data-min-constraints")&&parseInt(Y("data-min-constraints")),Z=Y("data-link-words")?Y("data-link-words").split("|").map((function(e){return{display:e.trim().split(":")[0],verification:e.trim().split(":")[1].split(",")}})):[],$=Y("min-words")&&parseInt(Y("min-words")),_=Y("data-quantifiers")?Y("data-quantifiers").split("|").map((function(e){return e.trim()})):[],ee=Y("data-max-length")&&parseInt(Y("data-max-length")),te=Y("data-max-length-per-intent")&&parseInt(Y("data-max-length-per-intent"));a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(E,{id:R,context:V,contexts:F,intents:J,icons:z,minIntents:G,constraintIntents:K,constraintIcons:Q,minConstraints:X,conjunctionWords:Z,minWords:$,quantifiers:_,maxLength:ee,maxLengthPerIntent:te})}),document.getElementById("root")),P()}},[[53,1,2]]]);
//# sourceMappingURL=main.7c79ba77.chunk.js.map